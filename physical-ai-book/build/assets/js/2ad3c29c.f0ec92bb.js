"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[9596],{1735:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"isaac-platform/vsland-pipeline-configuration","title":"VSLAM Pipeline Configuration for Isaac ROS","description":"Overview","source":"@site/docs/isaac-platform/vsland-pipeline-configuration.md","sourceDirName":"isaac-platform","slug":"/isaac-platform/vsland-pipeline-configuration","permalink":"/./docs/isaac-platform/vsland-pipeline-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/isaac-platform/vsland-pipeline-configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Nav2 Navigation Stack Setup Guide for ROS 2 Humble","permalink":"/./docs/isaac-platform/nav2-setup-guide"},"next":{"title":"Robot Localization System Using AMCL","permalink":"/./docs/isaac-platform/robot-localization-amcl"}}');var a=r(4848),s=r(7074);const o={},t="VSLAM Pipeline Configuration for Isaac ROS",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Understanding Isaac ROS Visual SLAM",id:"understanding-isaac-ros-visual-slam",level:2},{value:"Components",id:"components",level:3},{value:"Available Packages",id:"available-packages",level:3},{value:"VSLAM Pipeline Configuration",id:"vslam-pipeline-configuration",level:2},{value:"1. Basic Visual SLAM Node Configuration",id:"1-basic-visual-slam-node-configuration",level:3},{value:"2. Launch File Configuration",id:"2-launch-file-configuration",level:3},{value:"3. Monocular Camera Configuration",id:"3-monocular-camera-configuration",level:3},{value:"4. RGB-D Camera Configuration",id:"4-rgb-d-camera-configuration",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"1. GPU Acceleration Configuration",id:"1-gpu-acceleration-configuration",level:3},{value:"2. Memory Management",id:"2-memory-management",level:3},{value:"Integration with Navigation Stack",id:"integration-with-navigation-stack",level:2},{value:"1. TF Tree Configuration",id:"1-tf-tree-configuration",level:3},{value:"2. Odometry Integration",id:"2-odometry-integration",level:3},{value:"Calibration Requirements",id:"calibration-requirements",level:2},{value:"1. Camera Calibration",id:"1-camera-calibration",level:3},{value:"2. Extrinsic Calibration",id:"2-extrinsic-calibration",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Issue: Poor Tracking Performance",id:"issue-poor-tracking-performance",level:3},{value:"Issue: Map Drift",id:"issue-map-drift",level:3},{value:"Issue: High CPU/GPU Usage",id:"issue-high-cpugpu-usage",level:3},{value:"Issue: Scale Ambiguity (Monocular)",id:"issue-scale-ambiguity-monocular",level:3},{value:"Quality Assurance",id:"quality-assurance",level:2},{value:"1. Performance Metrics",id:"1-performance-metrics",level:3},{value:"2. Accuracy Validation",id:"2-accuracy-validation",level:3},{value:"Advanced Configuration",id:"advanced-configuration",level:2},{value:"1. Multi-Camera Setup",id:"1-multi-camera-setup",level:3},{value:"2. Dynamic Object Filtering",id:"2-dynamic-object-filtering",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Environment Considerations",id:"1-environment-considerations",level:3},{value:"2. Hardware Optimization",id:"2-hardware-optimization",level:3},{value:"3. Parameter Tuning",id:"3-parameter-tuning",level:3},{value:"Testing and Validation",id:"testing-and-validation",level:2},{value:"1. Simple Test Environment",id:"1-simple-test-environment",level:3},{value:"2. Loop Closure Test",id:"2-loop-closure-test",level:3},{value:"Resources",id:"resources",level:2},{value:"Conclusion",id:"conclusion",level:2}];function m(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"vslam-pipeline-configuration-for-isaac-ros",children:"VSLAM Pipeline Configuration for Isaac ROS"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"This guide provides instructions for configuring a Visual Simultaneous Localization and Mapping (VSLAM) pipeline using Isaac ROS. VSLAM enables robots to build maps of their environment while simultaneously localizing themselves within those maps using visual sensors like cameras."}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Isaac ROS perception packages installed (completed in T063)"}),"\n",(0,a.jsx)(n.li,{children:"ROS 2 Humble Hawksbill"}),"\n",(0,a.jsx)(n.li,{children:"Camera sensors (monocular, stereo, or RGB-D)"}),"\n",(0,a.jsx)(n.li,{children:"Properly calibrated camera(s)"}),"\n",(0,a.jsx)(n.li,{children:"Sufficient computational resources (GPU recommended)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"understanding-isaac-ros-visual-slam",children:"Understanding Isaac ROS Visual SLAM"}),"\n",(0,a.jsx)(n.h3,{id:"components",children:"Components"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Stereo Image Processing"}),": Converts stereo images to depth maps"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Visual SLAM"}),": Performs mapping and localization"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Pose Graph Optimization"}),": Refines trajectory estimates"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Loop Closure Detection"}),": Corrects drift over time"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"available-packages",children:"Available Packages"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"isaac_ros_visual_slam"}),": Main VSLAM package"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"isaac_ros_stereo_image_proc"}),": Stereo processing"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"isaac_ros_image_proc"}),": Image processing utilities"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"vslam-pipeline-configuration",children:"VSLAM Pipeline Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"1-basic-visual-slam-node-configuration",children:"1. Basic Visual SLAM Node Configuration"}),"\n",(0,a.jsxs)(n.p,{children:["Create a configuration file ",(0,a.jsx)(n.code,{children:"vsland_pipeline.yaml"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# Visual SLAM pipeline configuration\r\nvisual_slam_node:\r\n  ros__parameters:\r\n    # Input topics\r\n    camera_pose_with_covariance_output_topic: "/visual_slam/camera_pose_with_covariance"\r\n    corrected_pose_with_covariance_output_topic: "/visual_slam/corrected_pose_with_covariance"\r\n    feedback_frame_id: "base_link"\r\n    enable_slam_visualization: true\r\n    enable_landmarks_view: false\r\n    enable_observations_view: false\r\n    map_frame: "map"\r\n    odom_frame: "odom"\r\n    base_frame: "base_link"\r\n    input_bound: 10\r\n    min_num_images_to_start: 3\r\n    enable_localization_n_mapping: true\r\n    enable_localization: false\r\n    enable_occupancy_map: false\r\n    enable_point_cloud_output: true\r\n    enable_imu: false\r\n    enable_rectification: true\r\n    rectified_frame_id: "base_link"\r\n    use_odometry_input: false\r\n    use_sim_time: false\r\n\r\n    # Feature tracking parameters\r\n    tracker:\r\n      max_num_points: 1000\r\n      min_distance: 20.0\r\n      quality_level: 0.01\r\n      pyramid_level: 3\r\n      window_size: [21, 21]\r\n      termination_criteria: [30, 0.01]\r\n      use_gpu: true  # Enable GPU acceleration\r\n\r\n    # Keyframe selection\r\n    keyframe:\r\n      translation_threshold: 0.5\r\n      rotation_threshold: 0.5\r\n      minimum_translation: 0.1\r\n      minimum_rotation: 0.1\r\n      maximum_observations_lost: 10\r\n      minimum_observations_for_tracking: 10\r\n\r\n    # Mapping parameters\r\n    mapping:\r\n      max_num_landmarks: 10000\r\n      minimum_observations_for_landmark: 2\r\n      maximum_observations_lost: 5\r\n      minimum_observations_for_tracking: 3\r\n      reprojection_threshold: 2.0\r\n      use_gpu: true\r\n\r\n    # Loop closure detection\r\n    loop_closure:\r\n      enable_loop_detection: true\r\n      minimum_loop_closure_interval: 10.0\r\n      minimum_translation_for_loop: 1.0\r\n      minimum_keyframes_for_loop: 10\r\n      similarity_threshold: 0.7\r\n      geometric_verification_threshold: 10.0\r\n      inlier_threshold: 0.9\r\n      use_gpu: true\r\n\r\n# Stereo image processing node\r\nstereo_image_proc:\r\n  ros__parameters:\r\n    # Input topics\r\n    left/image_raw: "/camera/left/image_raw"\r\n    left/camera_info: "/camera/left/camera_info"\r\n    right/image_raw: "/camera/right/image_raw"\r\n    right/camera_info: "/camera/right/camera_info"\r\n\r\n    # Output topics\r\n    left/image_rect: "/stereo/left/image_rect_color"\r\n    right/image_rect: "/stereo/right/image_rect_color"\r\n    disparity: "/stereo/disparity"\r\n\r\n    # Processing parameters\r\n    queue_size: 5\r\n    alpha: -1.0  # Auto-calculated rectification\r\n    use_camera_info: true\r\n    alpha_adjuster: "none"\r\n    stereo_algorithm: 0  # Block matching\r\n    disparity_range: [0, 128]\r\n    correlation_window_size: 15\r\n    prefilter_cap: 31\r\n    prefilter_size: 9\r\n    speckle_size: 100\r\n    speckle_range: 32\r\n    disp12_max_diff: 1\r\n    min_disparity: 0\r\n    uniqueness_ratio: 15\r\n    texture_threshold: 10\r\n    uniqueness_ratio: 15\r\n    P1: 200\r\n    P2: 400\r\n    full_dp: false\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-launch-file-configuration",children:"2. Launch File Configuration"}),"\n",(0,a.jsxs)(n.p,{children:["Create a launch file ",(0,a.jsx)(n.code,{children:"vsland_pipeline_launch.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import os\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, RegisterEventHandler\r\nfrom launch.conditions import IfCondition\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\nfrom launch.event_handlers import OnProcessExit\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\n\r\ndef generate_launch_description():\r\n    # Launch configuration variables\r\n    use_sim_time = LaunchConfiguration('use_sim_time', default='false')\r\n    vsland_config_file = LaunchConfiguration('vsland_config_file')\r\n    enable_visualization = LaunchConfiguration('enable_visualization', default='true')\r\n\r\n    # Declare launch arguments\r\n    declare_use_sim_time = DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='false',\r\n        description='Use simulation clock if true')\r\n\r\n    declare_vsland_config_file = DeclareLaunchArgument(\r\n        'vsland_config_file',\r\n        default_value=os.path.join(\r\n            get_package_share_directory('your_robot_navigation'),\r\n            'config', 'vsland_pipeline.yaml'),\r\n        description='Full path to the VSLAM configuration file')\r\n\r\n    declare_enable_visualization = DeclareLaunchArgument(\r\n        'enable_visualization',\r\n        default_value='true',\r\n        description='Enable VSLAM visualization')\r\n\r\n    # Visual SLAM node\r\n    visual_slam_node = Node(\r\n        package='isaac_ros_visual_slam',\r\n        executable='visual_slam_node',\r\n        parameters=[vsland_config_file,\r\n                   {'use_sim_time': use_sim_time}],\r\n        remappings=[('stereo_camera/left/image', '/camera/left/image_rect_color'),\r\n                   ('stereo_camera/left/camera_info', '/camera/left/camera_info'),\r\n                   ('stereo_camera/right/image', '/camera/right/image_rect_color'),\r\n                   ('stereo_camera/right/camera_info', '/camera/right/camera_info'),\r\n                   ('visual_slam/imu', '/imu/data')],\r\n        output='screen'\r\n    )\r\n\r\n    # Stereo image processing node (if using stereo)\r\n    stereo_image_proc_node = Node(\r\n        package='isaac_ros_stereo_image_proc',\r\n        executable='stereo_image_proc',\r\n        parameters=[vsland_config_file,\r\n                   {'use_sim_time': use_sim_time}],\r\n        output='screen'\r\n    )\r\n\r\n    # Point cloud mapper node\r\n    point_cloud_node = Node(\r\n        package='isaac_ros_visual_slam',\r\n        executable='pointcloud_mapper_node',\r\n        parameters=[vsland_config_file,\r\n                   {'use_sim_time': use_sim_time}],\r\n        remappings=[('visual_slam/landmarks', '/visual_slam/landmarks'),\r\n                   ('visual_slam/optimized_landmarks', '/visual_slam/optimized_landmarks')],\r\n        output='screen'\r\n    )\r\n\r\n    # RViz2 node for visualization (optional)\r\n    rviz_node = Node(\r\n        condition=IfCondition(enable_visualization),\r\n        package='rviz2',\r\n        executable='rviz2',\r\n        name='rviz2',\r\n        arguments=['-d', os.path.join(get_package_share_directory('isaac_ros_visual_slam'),\r\n                                     'rviz', 'visual_slam.rviz')],\r\n        parameters=[{'use_sim_time': use_sim_time}]\r\n    )\r\n\r\n    # Create launch description\r\n    ld = LaunchDescription()\r\n\r\n    # Add launch arguments\r\n    ld.add_action(declare_use_sim_time)\r\n    ld.add_action(declare_vsland_config_file)\r\n    ld.add_action(declare_enable_visualization)\r\n\r\n    # Add nodes\r\n    ld.add_action(stereo_image_proc_node)\r\n    ld.add_action(visual_slam_node)\r\n    ld.add_action(point_cloud_node)\r\n    ld.add_action(rviz_node)\r\n\r\n    return ld\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-monocular-camera-configuration",children:"3. Monocular Camera Configuration"}),"\n",(0,a.jsx)(n.p,{children:"For monocular VSLAM, modify the configuration:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# Monocular VSLAM configuration\r\nvisual_slam_node:\r\n  ros__parameters:\r\n    # Use monocular input instead of stereo\r\n    image_raw_topic: "/camera/image_raw"\r\n    camera_info_topic: "/camera/camera_info"\r\n\r\n    # Disable stereo-specific features\r\n    enable_imu: false\r\n    use_stereo: false\r\n\r\n    # Monocular-specific parameters\r\n    tracker:\r\n      max_num_points: 800  # Slightly fewer features for monocular\r\n      min_distance: 15.0\r\n      quality_level: 0.015  # Higher quality features for monocular\r\n      pyramidal_level: 4    # More pyramid levels for better tracking\r\n\r\n    # Scale estimation (monocular is scale ambiguous)\r\n    scale_estimator:\r\n      enable_scale_estimation: true\r\n      initial_scale: 1.0\r\n      scale_window_size: 10\r\n\r\n    # Depth estimation for monocular\r\n    depth_estimator:\r\n      enable_depth_estimation: true\r\n      max_depth: 10.0\r\n      min_depth: 0.3\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-rgb-d-camera-configuration",children:"4. RGB-D Camera Configuration"}),"\n",(0,a.jsx)(n.p,{children:"For RGB-D VSLAM:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# RGB-D VSLAM configuration\r\nvisual_slam_node:\r\n  ros__parameters:\r\n    # RGB-D specific topics\r\n    rgb_image_topic: "/camera/color/image_raw"\r\n    depth_image_topic: "/camera/depth/image_rect_raw"\r\n    camera_info_topic: "/camera/color/camera_info"\r\n\r\n    # RGB-D specific parameters\r\n    use_depth_input: true\r\n    depth_scale_factor: 1000.0  # Convert depth to meters\r\n    max_depth: 5.0\r\n    min_depth: 0.1\r\n\r\n    # Enhanced tracking with depth\r\n    tracker:\r\n      max_num_points: 1200  # More features with depth guidance\r\n      use_depth_for_tracking: true\r\n      depth_threshold: 0.1  # Depth consistency threshold\r\n\r\n    # Mapping improvements with depth\r\n    mapping:\r\n      enable_3d_landmarks: true\r\n      depth_uncertainty_threshold: 0.05\n'})}),"\n",(0,a.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,a.jsx)(n.h3,{id:"1-gpu-acceleration-configuration",children:"1. GPU Acceleration Configuration"}),"\n",(0,a.jsx)(n.p,{children:"Enable GPU acceleration in the configuration:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"visual_slam_node:\r\n  ros__parameters:\r\n    # GPU acceleration settings\r\n    use_gpu: true\r\n    gpu_id: 0\r\n    cuda_device_id: 0\r\n\r\n    # Feature extraction GPU settings\r\n    feature_extraction:\r\n      use_gpu: true\r\n      gpu_memory_pool_size: 100  # MB\r\n      gpu_max_memory_usage: 500  # MB\r\n\r\n    # Tracking GPU settings\r\n    tracking:\r\n      use_gpu: true\r\n      gpu_thread_count: 4\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-memory-management",children:"2. Memory Management"}),"\n",(0,a.jsx)(n.p,{children:"Optimize memory usage:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'visual_slam_node:\r\n  ros__parameters:\r\n    # Memory optimization\r\n    max_map_size: 50000  # Maximum landmarks in map\r\n    landmark_forgetting_policy: "oldest"  # Remove oldest landmarks\r\n    keyframe_forgetting_policy: "aggressive"  # Remove redundant keyframes\r\n\r\n    # Processing optimization\r\n    processing_queue_size: 3  # Limit processing backlog\r\n    max_processing_threads: 8  # CPU threads for processing\n'})}),"\n",(0,a.jsx)(n.h2,{id:"integration-with-navigation-stack",children:"Integration with Navigation Stack"}),"\n",(0,a.jsx)(n.h3,{id:"1-tf-tree-configuration",children:"1. TF Tree Configuration"}),"\n",(0,a.jsx)(n.p,{children:"Ensure proper TF relationships:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# TF configuration for VSLAM integration\r\nvisual_slam_node:\r\n  ros__parameters:\r\n    # TF frames\r\n    map_frame: "map"\r\n    odom_frame: "odom"\r\n    base_frame: "base_link"\r\n    camera_frame: "camera_link"\r\n\r\n    # TF publishing\r\n    publish_tf: true\r\n    tf_publish_rate: 50.0  # Hz\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-odometry-integration",children:"2. Odometry Integration"}),"\n",(0,a.jsx)(n.p,{children:"Combine VSLAM with other odometry sources:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"# Robot localization node configuration\r\nrobot_localization:\r\n  ros__parameters:\r\n    # VSLAM as odometry source\r\n    odom0: /visual_slam/odometry\r\n    odom0_config: [true, true, true,  # x, y, z\r\n                   true, true, true,  # roll, pitch, yaw\r\n                   false, false, false]  # No linear velocity\r\n    odom0_differential: false\r\n    odom0_relative: false\r\n\r\n    # Other odometry sources\r\n    odom1: /wheel/odometry  # Wheel encoders\r\n    odom1_config: [true, true, false,  # x, y, no z\r\n                   false, false, true,  # Only yaw from IMU\r\n                   false, false, false]\r\n\r\n    # Fusion parameters\r\n    frequency: 50.0\r\n    sensor_timeout: 0.1\r\n    two_d_mode: true\r\n    transform_time_offset: 0.0\n"})}),"\n",(0,a.jsx)(n.h2,{id:"calibration-requirements",children:"Calibration Requirements"}),"\n",(0,a.jsx)(n.h3,{id:"1-camera-calibration",children:"1. Camera Calibration"}),"\n",(0,a.jsx)(n.p,{children:"Ensure cameras are properly calibrated:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check camera calibration\r\nros2 run camera_calibration_parsers read_calibration /path/to/calibration.yaml\r\n\r\n# Verify calibration parameters\r\nros2 topic echo /camera/camera_info\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-extrinsic-calibration",children:"2. Extrinsic Calibration"}),"\n",(0,a.jsx)(n.p,{children:"Calibrate camera-to-robot transforms:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# Extrinsic calibration in URDF\r\n<link name="camera_link">\r\n  <visual>\r\n    <origin xyz="0.1 0 0.2" rpy="0 0 0"/>\r\n    \x3c!-- Camera offset from base --\x3e\r\n  </visual>\r\n  <collision>\r\n    <origin xyz="0.1 0 0.2" rpy="0 0 0"/>\r\n  </collision>\r\n</link>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,a.jsx)(n.h3,{id:"issue-poor-tracking-performance",children:"Issue: Poor Tracking Performance"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Symptoms"}),": Frequent tracking failures, drifting pose estimates\r\n",(0,a.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Increase feature count:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"tracker:\r\n  max_num_points: 1500\r\n  min_distance: 10.0\n"})}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"Improve lighting conditions"}),"\n",(0,a.jsx)(n.li,{children:"Check camera calibration"}),"\n",(0,a.jsx)(n.li,{children:"Reduce motion speed during initialization"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"issue-map-drift",children:"Issue: Map Drift"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Symptoms"}),": Map deforms over time, loop closure fails\r\n",(0,a.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Enable loop closure:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"loop_closure:\r\n  enable_loop_detection: true\r\n  minimum_translation_for_loop: 0.5\n"})}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"Increase keyframe frequency"}),"\n",(0,a.jsx)(n.li,{children:"Improve feature tracking parameters"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"issue-high-cpugpu-usage",children:"Issue: High CPU/GPU Usage"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Symptoms"}),": System becomes unresponsive, frame drops\r\n",(0,a.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Reduce feature count:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"tracker:\r\n  max_num_points: 500\n"})}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"Lower processing frequency"}),"\n",(0,a.jsx)(n.li,{children:"Use simpler stereo algorithms"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"issue-scale-ambiguity-monocular",children:"Issue: Scale Ambiguity (Monocular)"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Symptoms"}),": Map scale changes during operation\r\n",(0,a.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Use known object sizes for scale reference"}),"\n",(0,a.jsx)(n.li,{children:"Integrate with IMU for scale estimation"}),"\n",(0,a.jsx)(n.li,{children:"Use stereo or RGB-D instead of monocular"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"quality-assurance",children:"Quality Assurance"}),"\n",(0,a.jsx)(n.h3,{id:"1-performance-metrics",children:"1. Performance Metrics"}),"\n",(0,a.jsx)(n.p,{children:"Monitor VSLAM performance:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Track frame rates\r\nros2 topic hz /camera/image_raw\r\nros2 topic hz /visual_slam/odometry\r\n\r\n# Monitor processing times\r\nros2 run topic_tools relay /visual_slam/timing_stats\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-accuracy-validation",children:"2. Accuracy Validation"}),"\n",(0,a.jsx)(n.p,{children:"Validate mapping accuracy:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Compare with ground truth (if available)\r\nros2 run tf2_tools view_frames\r\nros2 topic echo /visual_slam/odometry --field pose.pose.position\n"})}),"\n",(0,a.jsx)(n.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"1-multi-camera-setup",children:"1. Multi-Camera Setup"}),"\n",(0,a.jsx)(n.p,{children:"For multiple cameras:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'visual_slam_node:\r\n  ros__parameters:\r\n    # Multi-camera parameters\r\n    enable_multi_camera: true\r\n    camera_ids: [0, 1, 2]\r\n\r\n    # Camera 0 (front)\r\n    camera_0:\r\n      topic: "/camera0/image_raw"\r\n      info_topic: "/camera0/camera_info"\r\n      transform: [0.2, 0, 0.3, 0, 0, 0]  # x, y, z, roll, pitch, yaw\r\n\r\n    # Camera 1 (left)\r\n    camera_1:\r\n      topic: "/camera1/image_raw"\r\n      info_topic: "/camera1/camera_info"\r\n      transform: [0.1, 0.1, 0.3, 0, 0, 1.57]  # 90 degree offset\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-dynamic-object-filtering",children:"2. Dynamic Object Filtering"}),"\n",(0,a.jsx)(n.p,{children:"Filter dynamic objects:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"visual_slam_node:\r\n  ros__parameters:\r\n    # Dynamic object handling\r\n    enable_dynamic_object_filtering: true\r\n    dynamic_object_threshold: 5.0  # Pixels of motion threshold\r\n    temporal_consistency_window: 10  # Frames for consistency check\n"})}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsx)(n.h3,{id:"1-environment-considerations",children:"1. Environment Considerations"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Ensure sufficient lighting"}),"\n",(0,a.jsx)(n.li,{children:"Avoid repetitive patterns"}),"\n",(0,a.jsx)(n.li,{children:"Provide distinctive visual features"}),"\n",(0,a.jsx)(n.li,{children:"Minimize motion blur"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"2-hardware-optimization",children:"2. Hardware Optimization"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Use cameras with global shutters for fast motion"}),"\n",(0,a.jsx)(n.li,{children:"Ensure sufficient GPU memory"}),"\n",(0,a.jsx)(n.li,{children:"Use fast storage for map saving/loading"}),"\n",(0,a.jsx)(n.li,{children:"Maintain stable power supply"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"3-parameter-tuning",children:"3. Parameter Tuning"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Start with default parameters"}),"\n",(0,a.jsx)(n.li,{children:"Adjust one parameter at a time"}),"\n",(0,a.jsx)(n.li,{children:"Test in controlled environments first"}),"\n",(0,a.jsx)(n.li,{children:"Document working configurations"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"testing-and-validation",children:"Testing and Validation"}),"\n",(0,a.jsx)(n.h3,{id:"1-simple-test-environment",children:"1. Simple Test Environment"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Start with a simple, well-textured environment"}),"\n",(0,a.jsx)(n.li,{children:"Move robot slowly in straight lines"}),"\n",(0,a.jsx)(n.li,{children:"Verify pose estimates are reasonable"}),"\n",(0,a.jsx)(n.li,{children:"Check map quality and consistency"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"2-loop-closure-test",children:"2. Loop Closure Test"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Drive in a loop pattern"}),"\n",(0,a.jsx)(n.li,{children:"Verify loop closure detection"}),"\n",(0,a.jsx)(n.li,{children:"Check map consistency after closure"}),"\n",(0,a.jsx)(n.li,{children:"Measure drift correction"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://nvidia-isaac-ros.github.io/repositories_and_packages/isaac_ros_visual_slam/index.html",children:"Isaac ROS Visual SLAM Documentation"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://navigation.ros.org/tutorials/docs/navigation2_with_vslam.html",children:"ROS 2 Navigation with VSLAM Tutorial"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://wiki.ros.org/camera_calibration",children:"Camera Calibration Guide"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,a.jsx)(n.p,{children:"This guide provides a comprehensive configuration for Isaac ROS Visual SLAM pipeline. Proper configuration is essential for achieving accurate mapping and localization. Start with basic configurations and gradually optimize parameters based on your specific application requirements and hardware capabilities. The combination of visual SLAM with navigation systems enables powerful autonomous capabilities for robots operating in unknown environments."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},7074:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var i=r(6540);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);