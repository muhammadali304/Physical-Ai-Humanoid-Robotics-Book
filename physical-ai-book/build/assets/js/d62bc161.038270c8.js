"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[8346],{919:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"setup/ros2-workspace-structure","title":"ROS 2 Workspace Structure","description":"This document describes the standard structure for a ROS 2 workspace used in the Physical AI & Humanoid Robotics educational book.","source":"@site/docs/setup/ros2-workspace-structure.md","sourceDirName":"setup","slug":"/setup/ros2-workspace-structure","permalink":"/./docs/setup/ros2-workspace-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/setup/ros2-workspace-structure.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Environment Sourcing Guide with bashrc Modifications","permalink":"/./docs/setup/ros2-environment-setup"},"next":{"title":"Running and Testing ROS 2 Publisher/Subscriber Examples","permalink":"/./docs/setup/running-examples"}}');var a=r(4848),c=r(7074);const t={},i="ROS 2 Workspace Structure",o={},l=[{value:"Workspace Directory Structure",id:"workspace-directory-structure",level:2},{value:"Creating a New Package",id:"creating-a-new-package",level:2},{value:"Building the Workspace",id:"building-the-workspace",level:2},{value:"Sourcing the Workspace",id:"sourcing-the-workspace",level:2},{value:"Package Manifest (package.xml)",id:"package-manifest-packagexml",level:2},{value:"CMakeLists.txt Template",id:"cmakeliststxt-template",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ros-2-workspace-structure",children:"ROS 2 Workspace Structure"})}),"\n",(0,a.jsx)(n.p,{children:"This document describes the standard structure for a ROS 2 workspace used in the Physical AI & Humanoid Robotics educational book."}),"\n",(0,a.jsx)(n.h2,{id:"workspace-directory-structure",children:"Workspace Directory Structure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"~/ros2_ws/                     # Root workspace directory\r\n\u251c\u2500\u2500 src/                       # Source code directory\r\n\u2502   \u251c\u2500\u2500 CMakeLists.txt         # Symlink to /opt/ros/<distro>/share/colcon-core/package_manifests/CMakeLists.txt\r\n\u2502   \u251c\u2500\u2500 my_robot_package/      # Example robot package\r\n\u2502   \u2502   \u251c\u2500\u2500 CMakeLists.txt     # Build instructions for the package\r\n\u2502   \u2502   \u251c\u2500\u2500 package.xml        # Package manifest\r\n\u2502   \u2502   \u251c\u2500\u2500 src/               # C++ source files\r\n\u2502   \u2502   \u251c\u2500\u2500 include/           # C++ header files\r\n\u2502   \u2502   \u251c\u2500\u2500 scripts/           # Executable scripts\r\n\u2502   \u2502   \u251c\u2500\u2500 launch/            # Launch files\r\n\u2502   \u2502   \u251c\u2500\u2500 config/            # Configuration files\r\n\u2502   \u2502   \u2514\u2500\u2500 test/              # Test files\r\n\u2502   \u2514\u2500\u2500 other_packages/        # Additional packages\r\n\u251c\u2500\u2500 build/                     # Build artifacts (generated by colcon build)\r\n\u251c\u2500\u2500 install/                   # Installation directory (generated by colcon build)\r\n\u2502   \u251c\u2500\u2500 lib/                   # Libraries\r\n\u2502   \u251c\u2500\u2500 share/                 # Shared resources\r\n\u2502   \u2514\u2500\u2500 setup.bash             # Environment setup script\r\n\u2514\u2500\u2500 log/                       # Build logs\n"})}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-new-package",children:"Creating a New Package"}),"\n",(0,a.jsx)(n.p,{children:"To create a new ROS 2 package in your workspace:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_cmake --dependencies rclcpp rclpy std_msgs geometry_msgs <package_name>\n"})}),"\n",(0,a.jsx)(n.h2,{id:"building-the-workspace",children:"Building the Workspace"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select <package_name>\r\n# or build all packages\r\ncolcon build\n"})}),"\n",(0,a.jsx)(n.h2,{id:"sourcing-the-workspace",children:"Sourcing the Workspace"}),"\n",(0,a.jsx)(n.p,{children:"After building, source the workspace:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"source ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,a.jsxs)(n.p,{children:["To automatically source the workspace, add to your ",(0,a.jsx)(n.code,{children:"~/.bashrc"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'echo "source ~/ros2_ws/install/setup.bash" >> ~/.bashrc\n'})}),"\n",(0,a.jsx)(n.h2,{id:"package-manifest-packagexml",children:"Package Manifest (package.xml)"}),"\n",(0,a.jsxs)(n.p,{children:["Each package requires a ",(0,a.jsx)(n.code,{children:"package.xml"})," file that describes the package and its dependencies:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>my_robot_package</name>\r\n  <version>0.0.0</version>\r\n  <description>Example robot package for Physical AI & Humanoid Robotics</description>\r\n  <maintainer email="user@example.com">Your Name</maintainer>\r\n  <license>Apache License 2.0</license>\r\n\r\n  <buildtool_depend>ament_cmake</buildtool_depend>\r\n\r\n  <depend>rclcpp</depend>\r\n  <depend>rclpy</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>geometry_msgs</depend>\r\n\r\n  <test_depend>ament_lint_auto</test_depend>\r\n  <test_depend>ament_lint_common</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_cmake</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"cmakeliststxt-template",children:"CMakeLists.txt Template"}),"\n",(0,a.jsx)(n.p,{children:"Basic CMakeLists.txt for a ROS 2 package:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\r\nproject(my_robot_package)\r\n\r\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\r\n  add_compile_options(-Wall -Wextra -Wpedantic)\r\nendif()\r\n\r\n# find dependencies\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(rclcpp REQUIRED)\r\nfind_package(rclpy REQUIRED)\r\nfind_package(std_msgs REQUIRED)\r\nfind_package(geometry_msgs REQUIRED)\r\n\r\n# uncomment the following section in order to fill in\r\n# further dependencies manually.\r\n# find_package(<dependency> REQUIRED)\r\n\r\nif(BUILD_TESTING)\r\n  find_package(ament_lint_auto REQUIRED)\r\n  # the following line skips the linter which checks for copyrights\r\n  # comment the line when a copyright and license is added to all source files\r\n  set(ament_cmake_copyright_FOUND TRUE)\r\n  # the following line skips cpplint (only works in a git repo)\r\n  # comment the line when this package is in a git repo and when\r\n  # a copyright and license is added to all source files\r\n  set(ament_cmake_cpplint_FOUND TRUE)\r\n  ament_lint_auto_find_test_dependencies()\r\nendif()\r\n\r\nament_package()\n'})}),"\n",(0,a.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Package Naming"}),": Use snake_case for package names"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Dependencies"}),": List all dependencies in package.xml"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Source Control"}),": Add ",(0,a.jsx)(n.code,{children:"build/"}),", ",(0,a.jsx)(n.code,{children:"install/"}),", and ",(0,a.jsx)(n.code,{children:"log/"})," to ",(0,a.jsx)(n.code,{children:".gitignore"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Documentation"}),": Include README.md in each package"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Testing"}),": Include unit tests in the package"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},7074:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>i});var s=r(6540);const a={},c=s.createContext(a);function t(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);