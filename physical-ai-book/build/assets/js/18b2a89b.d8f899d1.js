"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[9842],{3527:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"capstone/autonomous-humanoid","title":"Autonomous Humanoid - Capstone Project","description":"Learning Objectives","source":"@site/docs/capstone/autonomous-humanoid.md","sourceDirName":"capstone","slug":"/capstone/autonomous-humanoid","permalink":"/./docs/capstone/autonomous-humanoid","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/capstone/autonomous-humanoid.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Capstone Project Integration Guide","permalink":"/./docs/capstone/capstone-project-integration-guide"},"next":{"title":"Troubleshooting Guide - Physical AI & Humanoid Robotics","permalink":"/./docs/appendix/troubleshooting"}}');var i=r(4848),a=r(7074);const o={sidebar_position:1},s="Autonomous Humanoid - Capstone Project",l={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Conceptual Overview",id:"conceptual-overview",level:2},{value:"Capstone System Architecture",id:"capstone-system-architecture",level:3},{value:"Key Capstone Components",id:"key-capstone-components",level:3},{value:"Project Scope",id:"project-scope",level:3},{value:"Hands-On Implementation",id:"hands-on-implementation",level:2},{value:"Setting Up the Capstone Package",id:"setting-up-the-capstone-package",level:3},{value:"Creating the Complete Humanoid URDF",id:"creating-the-complete-humanoid-urdf",level:3},{value:"Creating the Main Capstone Node",id:"creating-the-main-capstone-node",level:3},{value:"Creating a Capstone Launch File",id:"creating-a-capstone-launch-file",level:3},{value:"Creating a Capstone Demo Script",id:"creating-a-capstone-demo-script",level:3},{value:"Creating the Package Files",id:"creating-the-package-files",level:3},{value:"Testing &amp; Verification",id:"testing--verification",level:2},{value:"Running the Capstone System",id:"running-the-capstone-system",level:3},{value:"Useful Capstone Commands",id:"useful-capstone-commands",level:3},{value:"Performance Testing",id:"performance-testing",level:3},{value:"Common Issues",id:"common-issues",level:2},{value:"Issue: Joint trajectory controller not responding",id:"issue-joint-trajectory-controller-not-responding",level:3},{value:"Issue: Balance control instability",id:"issue-balance-control-instability",level:3},{value:"Issue: Integration conflicts between subsystems",id:"issue-integration-conflicts-between-subsystems",level:3},{value:"Issue: Computational overload with all systems active",id:"issue-computational-overload-with-all-systems-active",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2}];function m(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"autonomous-humanoid---capstone-project",children:"Autonomous Humanoid - Capstone Project"})}),"\n",(0,i.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Integrate all concepts learned throughout the book into a complete humanoid robot system"}),"\n",(0,i.jsx)(e.li,{children:"Implement a full autonomous humanoid robot with perception, planning, and action capabilities"}),"\n",(0,i.jsx)(e.li,{children:"Design and build a complex robotic system that combines all previous chapters"}),"\n",(0,i.jsx)(e.li,{children:"Create a complete deployment pipeline from simulation to real hardware"}),"\n",(0,i.jsx)(e.li,{children:"Implement advanced safety and recovery mechanisms"}),"\n",(0,i.jsx)(e.li,{children:"Demonstrate the complete physical AI and humanoid robotics system"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(e.p,{children:"Before starting this capstone project, you should:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Have completed all previous chapters in this book"}),"\n",(0,i.jsx)(e.li,{children:"Mastered ROS 2 fundamentals, simulation, Isaac integration, and VLA systems"}),"\n",(0,i.jsx)(e.li,{children:"Have access to appropriate hardware (simulated or physical humanoid robot)"}),"\n",(0,i.jsx)(e.li,{children:"Understanding of all concepts from previous chapters"}),"\n",(0,i.jsx)(e.li,{children:"Experience with system integration and testing"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"conceptual-overview",children:"Conceptual Overview"}),"\n",(0,i.jsxs)(e.p,{children:["The ",(0,i.jsx)(e.strong,{children:"Autonomous Humanoid Capstone Project"})," represents the culmination of all concepts covered in this book. It integrates:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"ROS 2 Fundamentals"}),": Nodes, topics, services, actions, and packages"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Simulation"}),": Gazebo and Unity for development and testing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Isaac Platform"}),": Perception, navigation, and AI capabilities"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Vision-Language-Action"}),": Natural interaction and cognitive planning"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Hardware Integration"}),": Real-world deployment considerations"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"capstone-system-architecture",children:"Capstone System Architecture"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"[USER INPUT] \u2192 [VOICE RECOGNITION] \u2192 [LLM PLANNING] \u2192 [PERCEPTION] \u2192 [NAVIGATION] \u2192 [CONTROL] \u2192 [ROBOT]\r\n     \u2191                  \u2193                \u2193            \u2191            \u2191            \u2191          \u2193\r\n[NATURAL LANGUAGE] \u2190 [TASK DECOMPOSITION] \u2190 [ENVIRONMENT MODEL] \u2190 [PATH PLANNING] \u2190 [MOTION CONTROL] \u2190 [SENSORS]\n"})}),"\n",(0,i.jsx)(e.h3,{id:"key-capstone-components",children:"Key Capstone Components"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Humanoid Robot Model"}),": Complete URDF model with multiple DOF joints"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Perception System"}),": Vision, LIDAR, IMU, and other sensor integration"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Cognitive Planning"}),": LLM-based high-level task planning"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Navigation System"}),": Autonomous movement and path planning"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Control System"}),": Low-level motor control and balance"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Safety System"}),": Emergency stops, collision avoidance, and error recovery"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"User Interface"}),": Voice commands and natural interaction"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"project-scope",children:"Project Scope"}),"\n",(0,i.jsx)(e.p,{children:"The capstone project involves creating a complete autonomous humanoid robot system that can:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Understand natural language commands"}),"\n",(0,i.jsx)(e.li,{children:"Perceive and navigate in its environment"}),"\n",(0,i.jsx)(e.li,{children:"Execute complex multi-step tasks"}),"\n",(0,i.jsx)(e.li,{children:"Adapt to changing conditions"}),"\n",(0,i.jsx)(e.li,{children:"Interact naturally with humans"}),"\n",(0,i.jsx)(e.li,{children:"Operate safely in real-world environments"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"hands-on-implementation",children:"Hands-On Implementation"}),"\n",(0,i.jsx)(e.h3,{id:"setting-up-the-capstone-package",children:"Setting Up the Capstone Package"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Create the capstone package\r\ncd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_python capstone_humanoid\n"})}),"\n",(0,i.jsx)(e.h3,{id:"creating-the-complete-humanoid-urdf",children:"Creating the Complete Humanoid URDF"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Create capstone_humanoid/urdf/humanoid_robot.urdf.xacro:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_robot">\r\n\r\n  \x3c!-- Constants --\x3e\r\n  <xacro:property name="M_PI" value="3.1415926535897931" />\r\n  <xacro:property name="torso_mass" value="10.0" />\r\n  <xacro:property name="head_mass" value="2.0" />\r\n  <xacro:property name="arm_mass" value="1.5" />\r\n  <xacro:property name="leg_mass" value="3.0" />\r\n  <xacro:property name="foot_mass" value="1.0" />\r\n\r\n  \x3c!-- Materials --\x3e\r\n  <material name="black">\r\n    <color rgba="0 0 0 1"/>\r\n  </material>\r\n  <material name="blue">\r\n    <color rgba="0 0 1 1"/>\r\n  </material>\r\n  <material name="green">\r\n    <color rgba="0 1 0 1"/>\r\n  </material>\r\n  <material name="grey">\r\n    <color rgba="0.5 0.5 0.5 1"/>\r\n  </material>\r\n  <material name="orange">\r\n    <color rgba="${255/255} ${108/255} ${10/255} 1"/>\r\n  </material>\r\n  <material name="brown">\r\n    <color rgba="${222/255} ${207/255} ${195/255} 1"/>\r\n  </material>\r\n  <material name="red">\r\n    <color rgba="0.8 0 0 1"/>\r\n  </material>\r\n  <material name="white">\r\n    <color rgba="1 1 1 1"/>\r\n  </material>\r\n\r\n  \x3c!-- Base Link --\x3e\r\n  <link name="base_link">\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.1"/>\r\n      </geometry>\r\n      <material name="white"/>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.1 0.1 0.1"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Torso --\x3e\r\n  <joint name="torso_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="torso_link"/>\r\n    <origin xyz="0 0 0.5" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  <link name="torso_link">\r\n    <inertial>\r\n      <mass value="${torso_mass}"/>\r\n      <origin xyz="0 0 0.3"/>\r\n      <inertia ixx="0.5" ixy="0.0" ixz="0.0" iyy="0.5" iyz="0.0" izz="0.2"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 0.3"/>\r\n      <geometry>\r\n        <capsule radius="0.15" length="0.4"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.3"/>\r\n      <geometry>\r\n        <capsule radius="0.15" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <joint name="neck_joint" type="revolute">\r\n    <parent link="torso_link"/>\r\n    <child link="head_link"/>\r\n    <origin xyz="0 0 0.7" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="100" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="head_link">\r\n    <inertial>\r\n      <mass value="${head_mass}"/>\r\n      <origin xyz="0 0 0.1"/>\r\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 0.1"/>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n      <material name="skin_color"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 0.1"/>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Camera for head --\x3e\r\n  <joint name="camera_joint" type="fixed">\r\n    <parent link="head_link"/>\r\n    <child link="camera_link"/>\r\n    <origin xyz="0.05 0 0.1" rpy="0 0 0"/>\r\n  </joint>\r\n\r\n  <link name="camera_link">\r\n    <inertial>\r\n      <mass value="0.1"/>\r\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Arm --\x3e\r\n  <joint name="left_shoulder_pitch" type="revolute">\r\n    <parent link="torso_link"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.2 0.15 0.5" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="50" velocity="2.0"/>\r\n  </joint>\r\n\r\n  <link name="left_upper_arm">\r\n    <inertial>\r\n      <mass value="${arm_mass}"/>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <capsule radius="0.05" length="0.25"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <capsule radius="0.05" length="0.25"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_elbow" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_forearm"/>\r\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="30" velocity="2.0"/>\r\n  </joint>\r\n\r\n  <link name="left_forearm">\r\n    <inertial>\r\n      <mass value="${arm_mass*0.7}"/>\r\n      <origin xyz="0 0 -0.1"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.1"/>\r\n      <geometry>\r\n        <capsule radius="0.04" length="0.15"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.1"/>\r\n      <geometry>\r\n        <capsule radius="0.04" length="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Right Arm (mirror of left) --\x3e\r\n  <joint name="right_shoulder_pitch" type="revolute">\r\n    <parent link="torso_link"/>\r\n    <child link="right_upper_arm"/>\r\n    <origin xyz="0.2 -0.15 0.5" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="50" velocity="2.0"/>\r\n  </joint>\r\n\r\n  <link name="right_upper_arm">\r\n    <inertial>\r\n      <mass value="${arm_mass}"/>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <capsule radius="0.05" length="0.25"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.15"/>\r\n      <geometry>\r\n        <capsule radius="0.05" length="0.25"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_elbow" type="revolute">\r\n    <parent link="right_upper_arm"/>\r\n    <child link="right_forearm"/>\r\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="30" velocity="2.0"/>\r\n  </joint>\r\n\r\n  <link name="right_forearm">\r\n    <inertial>\r\n      <mass value="${arm_mass*0.7}"/>\r\n      <origin xyz="0 0 -0.1"/>\r\n      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.005"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.1"/>\r\n      <geometry>\r\n        <capsule radius="0.04" length="0.15"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.1"/>\r\n      <geometry>\r\n        <capsule radius="0.04" length="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Left Leg --\x3e\r\n  <joint name="left_hip_pitch" type="revolute">\r\n    <parent link="torso_link"/>\r\n    <child link="left_thigh"/>\r\n    <origin xyz="-0.1 0.1 0.1" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="100" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="left_thigh">\r\n    <inertial>\r\n      <mass value="${leg_mass}"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.02"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.08" length="0.4"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.08" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_knee" type="revolute">\r\n    <parent link="left_thigh"/>\r\n    <child link="left_shin"/>\r\n    <origin xyz="0 0 -0.5" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="80" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="left_shin">\r\n    <inertial>\r\n      <mass value="${leg_mass*0.8}"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.08" ixy="0.0" ixz="0.0" iyy="0.08" iyz="0.0" izz="0.015"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.07" length="0.4"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.07" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="left_ankle" type="revolute">\r\n    <parent link="left_shin"/>\r\n    <child link="left_foot"/>\r\n    <origin xyz="0 0 -0.5" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="50" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="left_foot">\r\n    <inertial>\r\n      <mass value="${foot_mass}"/>\r\n      <origin xyz="0.05 0 -0.05"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0.05 0 -0.05"/>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.1"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0.05 0 -0.05"/>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.1"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Right Leg (mirror of left) --\x3e\r\n  <joint name="right_hip_pitch" type="revolute">\r\n    <parent link="torso_link"/>\r\n    <child link="right_thigh"/>\r\n    <origin xyz="-0.1 -0.1 0.1" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="100" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="right_thigh">\r\n    <inertial>\r\n      <mass value="${leg_mass}"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.02"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.08" length="0.4"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.08" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_knee" type="revolute">\r\n    <parent link="right_thigh"/>\r\n    <child link="right_shin"/>\r\n    <origin xyz="0 0 -0.5" rpy="0 0 0"/>\r\n    <axis xyz="1 0 0"/>\r\n    <limit lower="${-M_PI/2}" upper="${M_PI/4}" effort="80" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="right_shin">\r\n    <inertial>\r\n      <mass value="${leg_mass*0.8}"/>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <inertia ixx="0.08" ixy="0.0" ixz="0.0" iyy="0.08" iyz="0.0" izz="0.015"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.07" length="0.4"/>\r\n      </geometry>\r\n      <material name="grey"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0 0 -0.25"/>\r\n      <geometry>\r\n        <capsule radius="0.07" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  <joint name="right_ankle" type="revolute">\r\n    <parent link="right_shin"/>\r\n    <child link="right_foot"/>\r\n    <origin xyz="0 0 -0.5" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="${-M_PI/6}" upper="${M_PI/6}" effort="50" velocity="1.0"/>\r\n  </joint>\r\n\r\n  <link name="right_foot">\r\n    <inertial>\r\n      <mass value="${foot_mass}"/>\r\n      <origin xyz="0.05 0 -0.05"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n    <visual>\r\n      <origin xyz="0.05 0 -0.05"/>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.1"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n    <collision>\r\n      <origin xyz="0.05 0 -0.05"/>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.1"/>\r\n      </geometry>\r\n    </collision>\r\n  </link>\r\n\r\n  \x3c!-- Gazebo plugins for the robot --\x3e\r\n  <gazebo>\r\n    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\r\n      <robotNamespace>/humanoid_robot</robotNamespace>\r\n    </plugin>\r\n  </gazebo>\r\n\r\n  \x3c!-- Camera sensor --\x3e\r\n  <gazebo reference="camera_link">\r\n    <sensor type="camera" name="camera_sensor">\r\n      <update_rate>30.0</update_rate>\r\n      <camera name="head">\r\n        <horizontal_fov>1.3962634</horizontal_fov>\r\n        <image>\r\n          <width>800</width>\r\n          <height>600</height>\r\n          <format>R8G8B8</format>\r\n        </image>\r\n        <clip>\r\n          <near>0.02</near>\r\n          <far>300</far>\r\n        </clip>\r\n      </camera>\r\n      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n        <alwaysOn>true</alwaysOn>\r\n        <updateRate>30.0</updateRate>\r\n        <cameraName>humanoid_robot/camera</cameraName>\r\n        <imageTopicName>image_raw</imageTopicName>\r\n        <cameraInfoTopicName>camera_info</cameraInfoTopicName>\r\n        <frameName>camera_link</frameName>\r\n        <hackBaseline>0.07</hackBaseline>\r\n        <distortionK1>0.0</distortionK1>\r\n        <distortionK2>0.0</distortionK2>\r\n        <distortionK3>0.0</distortionK3>\r\n        <distortionT1>0.0</distortionT1>\r\n        <distortionT2>0.0</distortionT2>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- IMU sensor --\x3e\r\n  <gazebo reference="torso_link">\r\n    <sensor type="imu" name="imu_sensor">\r\n      <always_on>true</always_on>\r\n      <update_rate>100</update_rate>\r\n      <imu>\r\n        <angular_velocity>\r\n          <x>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n            </noise>\r\n          </x>\r\n          <y>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n            </noise>\r\n          </y>\r\n          <z>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n            </noise>\r\n          </z>\r\n        </angular_velocity>\r\n        <linear_acceleration>\r\n          <x>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n            </noise>\r\n          </x>\r\n          <y>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n            </noise>\r\n          </y>\r\n          <z>\r\n            <noise type="gaussian">\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n            </noise>\r\n          </z>\r\n        </linear_acceleration>\r\n      </imu>\r\n      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">\r\n        <topicName>imu</topicName>\r\n        <bodyName>torso_link</bodyName>\r\n        <updateRateHZ>100.0</updateRateHZ>\r\n        <gaussianNoise>0.0</gaussianNoise>\r\n        <frameName>torso_link</frameName>\r\n        <initialOrientationAsReference>false</initialOrientationAsReference>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n</robot>\n'})}),"\n",(0,i.jsx)(e.h3,{id:"creating-the-main-capstone-node",children:"Creating the Main Capstone Node"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"#!/usr/bin/env python3\r\n\r\n\"\"\"\r\nMain capstone node for the autonomous humanoid robot system.\r\n\"\"\"\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\nfrom sensor_msgs.msg import Image, Imu, JointState\r\nfrom geometry_msgs.msg import Twist, PoseStamped\r\nfrom nav_msgs.msg import Odometry\r\nfrom builtin_interfaces.msg import Duration\r\nfrom trajectory_msgs.msg import JointTrajectory, JointTrajectoryPoint\r\nfrom control_msgs.msg import JointTrajectoryControllerState\r\nimport threading\r\nimport time\r\nimport json\r\nfrom typing import Dict, List, Optional, Any\r\nfrom dataclasses import dataclass\r\n\r\n\r\n@dataclass\r\nclass HumanoidState:\r\n    \"\"\"Current state of the humanoid robot.\"\"\"\r\n    joint_angles: Dict[str, float] = None\r\n    imu_data: Dict[str, float] = None\r\n    vision_data: Any = None\r\n    position: Dict[str, float] = None\r\n    velocity: Dict[str, float] = None\r\n    balance_state: str = \"stable\"\r\n    battery_level: float = 100.0\r\n    timestamp: float = 0.0\r\n\r\n\r\nclass CapstoneHumanoidNode(Node):\r\n    \"\"\"\r\n    Main node for the autonomous humanoid robot system.\r\n    Integrates all components learned throughout the book.\r\n    \"\"\"\r\n\r\n    def __init__(self):\r\n        super().__init__('capstone_humanoid_node')\r\n\r\n        # Initialize humanoid state\r\n        self.state = HumanoidState()\r\n        self.state_lock = threading.Lock()\r\n\r\n        # Initialize subsystems\r\n        self.voice_system = VoiceCommandSystem(self)\r\n        self.planning_system = PlanningSystem(self)\r\n        self.perception_system = PerceptionSystem(self)\r\n        self.navigation_system = NavigationSystem(self)\r\n        self.control_system = ControlSystem(self)\r\n        self.safety_system = SafetySystem(self)\r\n\r\n        # Create subscribers for all sensors\r\n        self.joint_state_sub = self.create_subscription(\r\n            JointState,\r\n            '/joint_states',\r\n            self.joint_state_callback,\r\n            10\r\n        )\r\n\r\n        self.imu_sub = self.create_subscription(\r\n            Imu,\r\n            '/imu',\r\n            self.imu_callback,\r\n            10\r\n        )\r\n\r\n        self.image_sub = self.create_subscription(\r\n            Image,\r\n            '/camera/image_raw',\r\n            self.image_callback,\r\n            10\r\n        )\r\n\r\n        self.odom_sub = self.create_subscription(\r\n            Odometry,\r\n            '/odom',\r\n            self.odom_callback,\r\n            10\r\n        )\r\n\r\n        # Subscribe to command inputs\r\n        self.voice_command_sub = self.create_subscription(\r\n            String,\r\n            '/voice_commands',\r\n            self.voice_command_callback,\r\n            10\r\n        )\r\n\r\n        self.text_command_sub = self.create_subscription(\r\n            String,\r\n            '/text_commands',\r\n            self.text_command_callback,\r\n            10\r\n        )\r\n\r\n        # Create publishers\r\n        self.status_pub = self.create_publisher(String, '/humanoid_status', 10)\r\n        self.joint_cmd_pub = self.create_publisher(JointTrajectory, '/joint_trajectory_controller/joint_trajectory', 10)\r\n        self.cmd_vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)\r\n        self.goal_pub = self.create_publisher(PoseStamped, '/goal_pose', 10)\r\n\r\n        # Timer for main control loop\r\n        self.main_timer = self.create_timer(0.05, self.main_control_loop)  # 20Hz\r\n\r\n        # Initialize systems\r\n        self.initialize_systems()\r\n\r\n        self.get_logger().info('Capstone humanoid robot system initialized')\r\n\r\n    def initialize_systems(self):\r\n        \"\"\"Initialize all subsystems.\"\"\"\r\n        self.voice_system.initialize()\r\n        self.planning_system.initialize()\r\n        self.perception_system.initialize()\r\n        self.navigation_system.initialize()\r\n        self.control_system.initialize()\r\n        self.safety_system.initialize()\r\n\r\n        self.get_logger().info('All subsystems initialized')\r\n\r\n    def joint_state_callback(self, msg):\r\n        \"\"\"Handle joint state updates.\"\"\"\r\n        with self.state_lock:\r\n            self.state.joint_angles = dict(zip(msg.name, msg.position))\r\n            self.state.velocity = dict(zip(msg.name, msg.velocity))\r\n            self.state.timestamp = time.time()\r\n\r\n    def imu_callback(self, msg):\r\n        \"\"\"Handle IMU updates.\"\"\"\r\n        with self.state_lock:\r\n            self.state.imu_data = {\r\n                'orientation': [msg.orientation.x, msg.orientation.y, msg.orientation.z, msg.orientation.w],\r\n                'angular_velocity': [msg.angular_velocity.x, msg.angular_velocity.y, msg.angular_velocity.z],\r\n                'linear_acceleration': [msg.linear_acceleration.x, msg.linear_acceleration.y, msg.linear_acceleration.z]\r\n            }\r\n            self.state.balance_state = self.assess_balance(self.state.imu_data)\r\n            self.state.timestamp = time.time()\r\n\r\n    def image_callback(self, msg):\r\n        \"\"\"Handle camera image updates.\"\"\"\r\n        with self.state_lock:\r\n            self.state.vision_data = msg\r\n            self.state.timestamp = time.time()\r\n\r\n    def odom_callback(self, msg):\r\n        \"\"\"Handle odometry updates.\"\"\"\r\n        with self.state_lock:\r\n            self.state.position = {\r\n                'x': msg.pose.pose.position.x,\r\n                'y': msg.pose.pose.position.y,\r\n                'z': msg.pose.pose.position.z\r\n            }\r\n            self.state.timestamp = time.time()\r\n\r\n    def voice_command_callback(self, msg):\r\n        \"\"\"Handle voice command input.\"\"\"\r\n        command = msg.data\r\n        self.get_logger().info(f'Received voice command: {command}')\r\n\r\n        # Process through the integrated system\r\n        self.process_command(command)\r\n\r\n    def text_command_callback(self, msg):\r\n        \"\"\"Handle text command input.\"\"\"\r\n        command = msg.data\r\n        self.get_logger().info(f'Received text command: {command}')\r\n\r\n        # Process through the integrated system\r\n        self.process_command(command)\r\n\r\n    def process_command(self, command: str):\r\n        \"\"\"Process command through the integrated system.\"\"\"\r\n        # Step 1: Parse command with voice system\r\n        parsed_command = self.voice_system.parse_command(command)\r\n\r\n        # Step 2: Plan with LLM system\r\n        plan = self.planning_system.generate_plan(parsed_command)\r\n\r\n        if plan:\r\n            # Step 3: Execute with control system\r\n            success = self.control_system.execute_plan(plan)\r\n\r\n            if success:\r\n                self.get_logger().info('Command executed successfully')\r\n            else:\r\n                self.get_logger().error('Command execution failed')\r\n        else:\r\n            self.get_logger().error('Could not generate plan for command')\r\n\r\n    def assess_balance(self, imu_data: Dict) -> str:\r\n        \"\"\"Assess robot balance based on IMU data.\"\"\"\r\n        # Simple balance assessment based on orientation\r\n        orientation = imu_data['orientation']\r\n        # Calculate tilt angles from quaternion\r\n        w, x, y, z = orientation\r\n\r\n        # Simplified balance check (in practice, this would be more sophisticated)\r\n        roll = math.atan2(2*(w*x + y*z), 1 - 2*(x*x + y*y))\r\n        pitch = math.asin(2*(w*y - z*x))\r\n\r\n        if abs(roll) > 0.5 or abs(pitch) > 0.5:  # 0.5 rad \u2248 28.6 degrees\r\n            return \"unstable\"\r\n        else:\r\n            return \"stable\"\r\n\r\n    def main_control_loop(self):\r\n        \"\"\"Main control loop for the humanoid robot.\"\"\"\r\n        with self.state_lock:\r\n            current_state = self.state\r\n\r\n        # Safety checks\r\n        safety_ok = self.safety_system.check_safety(current_state)\r\n        if not safety_ok:\r\n            self.emergency_stop()\r\n            return\r\n\r\n        # Balance maintenance\r\n        if current_state.balance_state == \"unstable\":\r\n            self.maintain_balance()\r\n\r\n        # Publish system status\r\n        self.publish_status()\r\n\r\n        # Process any pending tasks\r\n        self.process_pending_tasks()\r\n\r\n    def maintain_balance(self):\r\n        \"\"\"Maintain robot balance.\"\"\"\r\n        self.get_logger().warn('Balance instability detected - taking corrective action')\r\n\r\n        # Send balance correction commands\r\n        # In practice, this would use inverse kinematics and balance control algorithms\r\n        balance_cmd = JointTrajectory()\r\n        balance_cmd.joint_names = ['left_ankle', 'right_ankle', 'left_hip_pitch', 'right_hip_pitch']\r\n\r\n        point = JointTrajectoryPoint()\r\n        point.positions = [0.0, 0.0, 0.0, 0.0]  # Return to neutral position\r\n        point.time_from_start = Duration(sec=0, nanosec=100000000)  # 0.1 seconds\r\n\r\n        balance_cmd.points.append(point)\r\n        self.joint_cmd_pub.publish(balance_cmd)\r\n\r\n    def emergency_stop(self):\r\n        \"\"\"Emergency stop procedure.\"\"\"\r\n        self.get_logger().fatal('EMERGENCY STOP ACTIVATED')\r\n\r\n        # Stop all motion\r\n        stop_twist = Twist()\r\n        self.cmd_vel_pub.publish(stop_twist)\r\n\r\n        # Set all joints to safe position\r\n        safe_cmd = JointTrajectory()\r\n        safe_cmd.joint_names = list(self.state.joint_angles.keys()) if self.state.joint_angles else []\r\n\r\n        if safe_cmd.joint_names:\r\n            point = JointTrajectoryPoint()\r\n            # Set all joints to 0 or safe position\r\n            point.positions = [0.0] * len(safe_cmd.joint_names)\r\n            point.time_from_start = Duration(sec=0, nanosec=100000000)  # 0.1 seconds\r\n            safe_cmd.points.append(point)\r\n            self.joint_cmd_pub.publish(safe_cmd)\r\n\r\n    def publish_status(self):\r\n        \"\"\"Publish humanoid system status.\"\"\"\r\n        status_msg = String()\r\n        with self.state_lock:\r\n            status_data = {\r\n                'balance_state': self.state.balance_state,\r\n                'battery_level': self.state.battery_level,\r\n                'position': self.state.position,\r\n                'joint_angles': self.state.joint_angles,\r\n                'timestamp': time.time()\r\n            }\r\n            status_msg.data = json.dumps(status_data)\r\n\r\n        self.status_pub.publish(status_msg)\r\n\r\n    def process_pending_tasks(self):\r\n        \"\"\"Process any pending tasks.\"\"\"\r\n        # In a real implementation, this would manage task queues\r\n        pass\r\n\r\n\r\nclass VoiceCommandSystem:\r\n    \"\"\"Handles voice command processing.\"\"\"\r\n\r\n    def __init__(self, parent_node):\r\n        self.parent_node = parent_node\r\n\r\n    def initialize(self):\r\n        \"\"\"Initialize voice command system.\"\"\"\r\n        self.parent_node.get_logger().info('Voice command system initialized')\r\n\r\n    def parse_command(self, command: str) -> Dict:\r\n        \"\"\"Parse voice command.\"\"\"\r\n        # In practice, this would use more sophisticated NLP\r\n        return {\r\n            'original': command,\r\n            'intent': self.extract_intent(command),\r\n            'entities': self.extract_entities(command),\r\n            'confidence': 0.9\r\n        }\r\n\r\n    def extract_intent(self, command: str) -> str:\r\n        \"\"\"Extract intent from command.\"\"\"\r\n        command_lower = command.lower()\r\n        if 'move' in command_lower or 'go' in command_lower:\r\n            return 'navigation'\r\n        elif 'pick' in command_lower or 'grasp' in command_lower:\r\n            return 'manipulation'\r\n        elif 'dance' in command_lower or 'wave' in command_lower:\r\n            return 'gesture'\r\n        else:\r\n            return 'other'\r\n\r\n    def extract_entities(self, command: str) -> Dict:\r\n        \"\"\"Extract entities from command.\"\"\"\r\n        entities = {}\r\n        command_lower = command.lower()\r\n\r\n        # Extract locations\r\n        locations = ['kitchen', 'bedroom', 'living room', 'office']\r\n        for loc in locations:\r\n            if loc in command_lower:\r\n                entities['location'] = loc\r\n                break\r\n\r\n        # Extract objects\r\n        objects = ['ball', 'cup', 'book', 'toy']\r\n        for obj in objects:\r\n            if obj in command_lower:\r\n                entities['object'] = obj\r\n                break\r\n\r\n        return entities\r\n\r\n\r\nclass PlanningSystem:\r\n    \"\"\"Handles high-level planning using LLMs.\"\"\"\r\n\r\n    def __init__(self, parent_node):\r\n        self.parent_node = parent_node\r\n\r\n    def initialize(self):\r\n        \"\"\"Initialize planning system.\"\"\"\r\n        self.parent_node.get_logger().info('Planning system initialized')\r\n\r\n    def generate_plan(self, parsed_command: Dict) -> Optional[List[Dict]]:\r\n        \"\"\"Generate plan based on parsed command.\"\"\"\r\n        intent = parsed_command['intent']\r\n        entities = parsed_command['entities']\r\n\r\n        if intent == 'navigation':\r\n            return self.generate_navigation_plan(entities)\r\n        elif intent == 'manipulation':\r\n            return self.generate_manipulation_plan(entities)\r\n        elif intent == 'gesture':\r\n            return self.generate_gesture_plan(entities)\r\n        else:\r\n            return self.generate_generic_plan(parsed_command)\r\n\r\n    def generate_navigation_plan(self, entities: Dict) -> List[Dict]:\r\n        \"\"\"Generate navigation plan.\"\"\"\r\n        plan = []\r\n\r\n        # Navigate to location if specified\r\n        if 'location' in entities:\r\n            plan.append({\r\n                'action': 'navigate_to',\r\n                'parameters': {'location': entities['location']},\r\n                'description': f'Navigate to {entities[\"location\"]}'\r\n            })\r\n        else:\r\n            # Default navigation action\r\n            plan.append({\r\n                'action': 'move_forward',\r\n                'parameters': {'distance': 1.0, 'speed': 0.5},\r\n                'description': 'Move forward 1 meter'\r\n            })\r\n\r\n        return plan\r\n\r\n    def generate_manipulation_plan(self, entities: Dict) -> List[Dict]:\r\n        \"\"\"Generate manipulation plan.\"\"\"\r\n        plan = []\r\n\r\n        if 'object' in entities:\r\n            plan.extend([\r\n                {\r\n                    'action': 'locate_object',\r\n                    'parameters': {'object_type': entities['object']},\r\n                    'description': f'Locate {entities[\"object\"]}'\r\n                },\r\n                {\r\n                    'action': 'approach_object',\r\n                    'parameters': {'object_type': entities['object']},\r\n                    'description': f'Approach {entities[\"object\"]}'\r\n                },\r\n                {\r\n                    'action': 'grasp_object',\r\n                    'parameters': {'object_type': entities['object']},\r\n                    'description': f'Grasp {entities[\"object\"]}'\r\n                }\r\n            ])\r\n\r\n        return plan\r\n\r\n    def generate_gesture_plan(self, entities: Dict) -> List[Dict]:\r\n        \"\"\"Generate gesture plan.\"\"\"\r\n        plan = []\r\n\r\n        original_cmd = entities.get('original', '').lower()\r\n\r\n        if 'wave' in original_cmd:\r\n            plan.extend([\r\n                {\r\n                    'action': 'raise_arm',\r\n                    'parameters': {'arm': 'right', 'angle': 0.5},\r\n                    'description': 'Raise right arm to wave position'\r\n                },\r\n                {\r\n                    'action': 'wave_hand',\r\n                    'parameters': {'repetitions': 3},\r\n                    'description': 'Wave hand 3 times'\r\n                },\r\n                {\r\n                    'action': 'lower_arm',\r\n                    'parameters': {'arm': 'right'},\r\n                    'description': 'Lower right arm'\r\n                }\r\n            ])\r\n        elif 'dance' in original_cmd:\r\n            plan.extend([\r\n                {\r\n                    'action': 'move_legs',\r\n                    'parameters': {'pattern': 'stepping', 'duration': 5.0},\r\n                    'description': 'Perform stepping dance for 5 seconds'\r\n                },\r\n                {\r\n                    'action': 'move_arms',\r\n                    'parameters': {'pattern': 'swinging', 'duration': 5.0},\r\n                    'description': 'Swing arms for 5 seconds'\r\n                }\r\n            ])\r\n\r\n        return plan\r\n\r\n    def generate_generic_plan(self, parsed_command: Dict) -> List[Dict]:\r\n        \"\"\"Generate generic plan.\"\"\"\r\n        return [{\r\n            'action': 'acknowledge',\r\n            'parameters': {'message': parsed_command['original']},\r\n            'description': f'Acknowledge command: {parsed_command[\"original\"]}'\r\n        }]\r\n\r\n\r\nclass PerceptionSystem:\r\n    \"\"\"Handles perception and environmental awareness.\"\"\"\r\n\r\n    def __init__(self, parent_node):\r\n        self.parent_node = parent_node\r\n\r\n    def initialize(self):\r\n        \"\"\"Initialize perception system.\"\"\"\r\n        self.parent_node.get_logger().info('Perception system initialized')\r\n\r\n    def process_vision_data(self, image_data):\r\n        \"\"\"Process camera image data.\"\"\"\r\n        # In practice, this would use computer vision algorithms\r\n        pass\r\n\r\n    def update_environment_model(self):\r\n        \"\"\"Update environment model based on sensor data.\"\"\"\r\n        # Integrate data from all sensors to build environment model\r\n        pass\r\n\r\n\r\nclass NavigationSystem:\r\n    \"\"\"Handles navigation and path planning.\"\"\"\r\n\r\n    def __init__(self, parent_node):\r\n        self.parent_node = parent_node\r\n\r\n    def initialize(self):\r\n        \"\"\"Initialize navigation system.\"\"\"\r\n        self.parent_node.get_logger().info('Navigation system initialized')\r\n\r\n    def navigate_to(self, location: str):\r\n        \"\"\"Navigate to specified location.\"\"\"\r\n        # In practice, this would interface with navigation stack\r\n        pass\r\n\r\n\r\nclass ControlSystem:\r\n    \"\"\"Handles low-level control and actuation.\"\"\"\r\n\r\n    def __init__(self, parent_node):\r\n        self.parent_node = parent_node\r\n\r\n    def initialize(self):\r\n        \"\"\"Initialize control system.\"\"\"\r\n        self.parent_node.get_logger().info('Control system initialized')\r\n\r\n    def execute_plan(self, plan: List[Dict]) -> bool:\r\n        \"\"\"Execute a plan.\"\"\"\r\n        success = True\r\n        for step in plan:\r\n            if not self.execute_step(step):\r\n                success = False\r\n                break\r\n        return success\r\n\r\n    def execute_step(self, step: Dict) -> bool:\r\n        \"\"\"Execute a single step.\"\"\"\r\n        action = step['action']\r\n        params = step['parameters']\r\n\r\n        self.parent_node.get_logger().info(f'Executing action: {action}')\r\n\r\n        try:\r\n            if action == 'navigate_to':\r\n                return self.execute_navigation(params)\r\n            elif action == 'move_forward':\r\n                return self.execute_move_forward(params)\r\n            elif action == 'raise_arm':\r\n                return self.execute_raise_arm(params)\r\n            elif action == 'wave_hand':\r\n                return self.execute_wave_hand(params)\r\n            elif action == 'move_legs':\r\n                return self.execute_move_legs(params)\r\n            elif action == 'acknowledge':\r\n                return self.execute_acknowledge(params)\r\n            else:\r\n                self.parent_node.get_logger().warn(f'Unknown action: {action}')\r\n                return False\r\n\r\n        except Exception as e:\r\n            self.parent_node.get_logger().error(f'Error executing action {action}: {e}')\r\n            return False\r\n\r\n    def execute_navigation(self, params: Dict) -> bool:\r\n        \"\"\"Execute navigation action.\"\"\"\r\n        location = params.get('location', 'unknown')\r\n        self.parent_node.get_logger().info(f'Navigating to {location}')\r\n        # In practice, this would send navigation goals\r\n        time.sleep(2)  # Simulate navigation time\r\n        return True\r\n\r\n    def execute_move_forward(self, params: Dict) -> bool:\r\n        \"\"\"Execute forward movement.\"\"\"\r\n        distance = params.get('distance', 1.0)\r\n        speed = params.get('speed', 0.5)\r\n\r\n        # Create and publish velocity command\r\n        twist = Twist()\r\n        twist.linear.x = speed\r\n        self.parent_node.cmd_vel_pub.publish(twist)\r\n\r\n        # Simulate movement\r\n        time.sleep(distance / speed)\r\n\r\n        # Stop the robot\r\n        stop_twist = Twist()\r\n        self.parent_node.cmd_vel_pub.publish(stop_twist)\r\n\r\n        return True\r\n\r\n    def execute_raise_arm(self, params: Dict) -> bool:\r\n        \"\"\"Execute arm raising action.\"\"\"\r\n        arm = params.get('arm', 'left')\r\n        angle = params.get('angle', 0.5)\r\n\r\n        # Create joint trajectory command\r\n        traj = JointTrajectory()\r\n        if arm == 'right':\r\n            traj.joint_names = ['right_shoulder_pitch', 'right_elbow']\r\n        else:\r\n            traj.joint_names = ['left_shoulder_pitch', 'left_elbow']\r\n\r\n        point = JointTrajectoryPoint()\r\n        if arm == 'right':\r\n            point.positions = [angle, 0.2]  # Raise and slightly bend elbow\r\n        else:\r\n            point.positions = [angle, 0.2]\r\n        point.time_from_start = Duration(sec=1, nanosec=0)  # 1 second\r\n\r\n        traj.points.append(point)\r\n        self.parent_node.joint_cmd_pub.publish(traj)\r\n\r\n        time.sleep(1.5)  # Allow time for movement\r\n        return True\r\n\r\n    def execute_wave_hand(self, params: Dict) -> bool:\r\n        \"\"\"Execute waving action.\"\"\"\r\n        repetitions = params.get('repetitions', 3)\r\n\r\n        for i in range(repetitions):\r\n            # Wave motion: alternate elbow angles\r\n            traj = JointTrajectory()\r\n            traj.joint_names = ['right_elbow']\r\n\r\n            point1 = JointTrajectoryPoint()\r\n            point1.positions = [0.5]  # Elbow bent\r\n            point1.time_from_start = Duration(sec=0, nanosec=200000000)  # 0.2 seconds\r\n            traj.points.append(point1)\r\n\r\n            point2 = JointTrajectoryPoint()\r\n            point2.positions = [-0.5]  # Elbow bent other way\r\n            point2.time_from_start = Duration(sec=0, nanosec=400000000)  # 0.4 seconds\r\n            traj.points.append(point2)\r\n\r\n            self.parent_node.joint_cmd_pub.publish(traj)\r\n            time.sleep(0.4)\r\n\r\n        return True\r\n\r\n    def execute_move_legs(self, params: Dict) -> bool:\r\n        \"\"\"Execute leg movement.\"\"\"\r\n        duration = params.get('duration', 5.0)\r\n\r\n        # Simple stepping motion\r\n        start_time = time.time()\r\n        while time.time() - start_time < duration:\r\n            # Alternate hip and knee movements\r\n            traj = JointTrajectory()\r\n            traj.joint_names = ['left_hip_pitch', 'right_hip_pitch', 'left_knee', 'right_knee']\r\n\r\n            point = JointTrajectoryPoint()\r\n            # Create alternating stepping pattern\r\n            t = time.time() - start_time\r\n            left_hip = math.sin(t * 2) * 0.2  # Oscillate hip\r\n            right_hip = math.sin(t * 2 + math.pi) * 0.2  # Opposite phase\r\n            point.positions = [left_hip, right_hip, 0.0, 0.0]\r\n            point.time_from_start = Duration(sec=0, nanosec=100000000)  # 0.1 seconds\r\n\r\n            traj.points.append(point)\r\n            self.parent_node.joint_cmd_pub.publish(traj)\r\n            time.sleep(0.1)\r\n\r\n        return True\r\n\r\n    def execute_acknowledge(self, params: Dict) -> bool:\r\n        \"\"\"Execute acknowledgment action.\"\"\"\r\n        message = params.get('message', 'acknowledged')\r\n        self.parent_node.get_logger().info(f'Acknowledged: {message}')\r\n        return True\r\n\r\n\r\nclass SafetySystem:\r\n    \"\"\"Handles safety monitoring and emergency procedures.\"\"\"\r\n\r\n    def __init__(self, parent_node):\r\n        self.parent_node = parent_node\r\n\r\n    def initialize(self):\r\n        \"\"\"Initialize safety system.\"\"\"\r\n        self.parent_node.get_logger().info('Safety system initialized')\r\n\r\n    def check_safety(self, state: HumanoidState) -> bool:\r\n        \"\"\"Check if system is in safe state.\"\"\"\r\n        # Check balance\r\n        if state.balance_state == \"unstable\":\r\n            self.parent_node.get_logger().warn('Balance safety violation')\r\n            return False\r\n\r\n        # Check joint limits (simplified)\r\n        if state.joint_angles:\r\n            for joint, angle in state.joint_angles.items():\r\n                # Check if joint is at extreme position (simplified check)\r\n                if abs(angle) > 2.0:  # Beyond safe range\r\n                    self.parent_node.get_logger().warn(f'Joint {joint} at unsafe position: {angle}')\r\n                    return False\r\n\r\n        # Check battery level\r\n        if state.battery_level < 10.0:  # Below 10%\r\n            self.parent_node.get_logger().warn(f'Low battery: {state.battery_level}%')\r\n            # Could return False if battery critically low, or just warn\r\n\r\n        return True\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = CapstoneHumanoidNode()\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        node.get_logger().info('Capstone humanoid node stopped by user')\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(e.h3,{id:"creating-a-capstone-launch-file",children:"Creating a Capstone Launch File"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Create launch/capstone_humanoid_launch.py:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription, TimerAction\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\nimport os\r\n\r\n\r\ndef generate_launch_description():\r\n    # Declare launch arguments\r\n    use_sim_time = DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='true',\r\n        description='Use simulation time if true'\r\n    )\r\n\r\n    robot_model = DeclareLaunchArgument(\r\n        'robot_model',\r\n        default_value='humanoid',\r\n        description='Robot model to use'\r\n    )\r\n\r\n    # Robot state publisher\r\n    robot_state_publisher = Node(\r\n        package='robot_state_publisher',\r\n        executable='robot_state_publisher',\r\n        name='robot_state_publisher',\r\n        parameters=[\r\n            {'use_sim_time': LaunchConfiguration('use_sim_time')},\r\n            {'robot_description': PathJoinSubstitution([\r\n                FindPackageShare('capstone_humanoid'),\r\n                'urdf',\r\n                'humanoid_robot.urdf.xacro'\r\n            ])}\r\n        ]\r\n    )\r\n\r\n    # Joint state publisher\r\n    joint_state_publisher = Node(\r\n        package='joint_state_publisher',\r\n        executable='joint_state_publisher',\r\n        name='joint_state_publisher',\r\n        parameters=[\r\n            {'use_sim_time': LaunchConfiguration('use_sim_time')}\r\n        ]\r\n    )\r\n\r\n    # Gazebo simulation\r\n    gazebo = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource([\r\n            PathJoinSubstitution([\r\n                FindPackageShare('gazebo_ros'),\r\n                'launch',\r\n                'gazebo.launch.py'\r\n            ])\r\n        ]),\r\n        launch_arguments={\r\n            'verbose': 'false',\r\n            'pause': 'false',\r\n        }.items()\r\n    )\r\n\r\n    # Spawn robot in Gazebo\r\n    spawn_entity = Node(\r\n        package='gazebo_ros',\r\n        executable='spawn_entity.py',\r\n        arguments=[\r\n            '-topic', 'robot_description',\r\n            '-entity', 'humanoid_robot',\r\n            '-x', '0', '-y', '0', '-z', '1.0'  # Start 1m above ground\r\n        ],\r\n        output='screen'\r\n    )\r\n\r\n    # Main capstone node\r\n    capstone_humanoid_node = Node(\r\n        package='capstone_humanoid',\r\n        executable='capstone_humanoid_node',\r\n        name='capstone_humanoid_node',\r\n        parameters=[\r\n            {'use_sim_time': LaunchConfiguration('use_sim_time')}\r\n        ],\r\n        output='screen'\r\n    )\r\n\r\n    # Isaac ROS perception nodes (if available)\r\n    # This would include depth estimation, object detection, etc.\r\n    # For brevity, we'll define them conceptually\r\n\r\n    # Isaac navigation (if available)\r\n    # This would include visual SLAM, path planning, etc.\r\n\r\n    # Return the launch description\r\n    return LaunchDescription([\r\n        use_sim_time,\r\n        robot_model,\r\n        robot_state_publisher,\r\n        joint_state_publisher,\r\n        gazebo,\r\n        TimerAction(\r\n            period=3.0,\r\n            actions=[spawn_entity]\r\n        ),\r\n        TimerAction(\r\n            period=5.0,\r\n            actions=[capstone_humanoid_node]\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"creating-a-capstone-demo-script",children:"Creating a Capstone Demo Script"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Create scripts/capstone_demo.py:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\r\n\r\n"""\r\nCapstone demonstration script for autonomous humanoid robot.\r\n"""\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\nfrom geometry_msgs.msg import Twist\r\nimport time\r\n\r\n\r\nclass CapstoneDemoNode(Node):\r\n    """\r\n    Node to demonstrate the capstone humanoid robot capabilities.\r\n    """\r\n\r\n    def __init__(self):\r\n        super().__init__(\'capstone_demo_node\')\r\n\r\n        # Create publishers for different command types\r\n        self.voice_cmd_pub = self.create_publisher(String, \'/voice_commands\', 10)\r\n        self.text_cmd_pub = self.create_publisher(String, \'/text_commands\', 10)\r\n\r\n        self.get_logger().info(\'Capstone demo node initialized\')\r\n\r\n    def run_demo(self):\r\n        """Run the complete demo sequence."""\r\n        self.get_logger().info(\'Starting capstone demo sequence...\')\r\n\r\n        # Demo sequence\r\n        demo_commands = [\r\n            ("Hello robot", "Initial greeting"),\r\n            ("Move forward 2 meters", "Navigation demonstration"),\r\n            ("Wave your hand", "Gesture demonstration"),\r\n            ("Turn left", "Rotation demonstration"),\r\n            ("Dance for 10 seconds", "Complex movement demonstration"),\r\n            ("Go to the kitchen", "Advanced navigation"),\r\n            ("Stop", "Emergency stop demonstration")\r\n        ]\r\n\r\n        for command, description in demo_commands:\r\n            self.get_logger().info(f\'Demo: {description}\')\r\n            self.get_logger().info(f\'Command: "{command}"\')\r\n\r\n            # Send command\r\n            cmd_msg = String()\r\n            cmd_msg.data = command\r\n            self.voice_cmd_pub.publish(cmd_msg)\r\n\r\n            # Wait for execution\r\n            time.sleep(5)  # Wait 5 seconds between commands\r\n\r\n        self.get_logger().info(\'Capstone demo sequence completed\')\r\n\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    demo_node = CapstoneDemoNode()\r\n\r\n    try:\r\n        demo_node.run_demo()\r\n    except KeyboardInterrupt:\r\n        demo_node.get_logger().info(\'Demo interrupted by user\')\r\n    finally:\r\n        demo_node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,i.jsx)(e.h3,{id:"creating-the-package-files",children:"Creating the Package Files"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Update package.xml:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>capstone_humanoid</name>\r\n  <version>0.0.1</version>\r\n  <description>Capstone project for autonomous humanoid robot</description>\r\n  <maintainer email="user@todo.todo">user</maintainer>\r\n  <license>Apache-2.0</license>\r\n\r\n  <depend>rclpy</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>geometry_msgs</depend>\r\n  <depend>sensor_msgs</depend>\r\n  <depend>nav_msgs</depend>\r\n  <depend>trajectory_msgs</depend>\r\n  <depend>control_msgs</depend>\r\n  <depend>builtin_interfaces</depend>\r\n  <depend>robot_state_publisher</depend>\r\n  <depend>joint_state_publisher</depend>\r\n\r\n  <export>\r\n    <build_type>ament_python</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Create setup.py:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from setuptools import find_packages, setup\r\n\r\npackage_name = 'capstone_humanoid'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.0.1',\r\n    packages=find_packages(exclude=['test']),\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n        ('share/' + package_name + '/urdf', ['urdf/humanoid_robot.urdf.xacro']),\r\n        ('share/' + package_name + '/launch', ['launch/capstone_humanoid_launch.py']),\r\n        ('share/' + package_name + '/scripts', ['scripts/capstone_demo.py']),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='user',\r\n    maintainer_email='user@todo.todo',\r\n    description='Capstone project for autonomous humanoid robot',\r\n    license='Apache-2.0',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'capstone_humanoid_node = capstone_humanoid.capstone_humanoid_node:main',\r\n            'capstone_demo = capstone_humanoid.scripts.capstone_demo:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"testing--verification",children:"Testing & Verification"}),"\n",(0,i.jsx)(e.h3,{id:"running-the-capstone-system",children:"Running the Capstone System"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Build the capstone package:"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select capstone_humanoid\r\nsource install/setup.bash\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Run the complete capstone system:"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Terminal 1: Launch the robot simulation\r\nros2 launch capstone_humanoid capstone_humanoid_launch.py\r\n\r\n# Terminal 2: Run the capstone node\r\nros2 run capstone_humanoid capstone_humanoid_node\r\n\r\n# Terminal 3: Send commands\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Hello robot'\"\r\n\r\n# Terminal 4: Monitor status\r\nros2 topic echo /humanoid_status\n"})}),"\n",(0,i.jsxs)(e.ol,{start:"3",children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Run the demo sequence:"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"ros2 run capstone_humanoid capstone_demo\n"})}),"\n",(0,i.jsx)(e.h3,{id:"useful-capstone-commands",children:"Useful Capstone Commands"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Monitor all capstone topics:"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# System status\r\nros2 topic echo /humanoid_status\r\n\r\n# Joint states\r\nros2 topic echo /joint_states\r\n\r\n# Camera feed\r\nros2 run image_view image_view image:=/humanoid_robot/camera/image_raw\r\n\r\n# IMU data\r\nros2 topic echo /imu\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Send various commands:"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Navigation commands\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Move forward 2 meters'\"\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Go to the kitchen'\"\r\n\r\n# Gesture commands\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Wave your hand'\"\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Dance for 10 seconds'\"\r\n\r\n# Emergency commands\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Stop'\"\r\nros2 topic pub /voice_commands std_msgs/msg/String \"data: 'Emergency halt'\"\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"Visualize in RViz:"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# For robot state visualization\r\nrviz2\r\n# Add RobotModel, TF, and other displays\n"})}),"\n",(0,i.jsx)(e.h3,{id:"performance-testing",children:"Performance Testing"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Test system response time to commands\r\n# Test coordination between all subsystems\r\n# Test safety system responses\r\n# Test battery life simulation\r\n# Test long-term operation stability\n"})}),"\n",(0,i.jsx)(e.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsx)(e.h3,{id:"issue-joint-trajectory-controller-not-responding",children:"Issue: Joint trajectory controller not responding"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Verify controller configuration in Gazebo"}),"\n",(0,i.jsx)(e.li,{children:"Check that joint names match between URDF and controller"}),"\n",(0,i.jsx)(e.li,{children:"Ensure proper controller manager setup"}),"\n",(0,i.jsx)(e.li,{children:"Verify ROS 2 control packages are installed"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"issue-balance-control-instability",children:"Issue: Balance control instability"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Implement proper PID controllers for balance"}),"\n",(0,i.jsx)(e.li,{children:"Use IMU feedback for real-time adjustments"}),"\n",(0,i.jsx)(e.li,{children:"Implement fall detection and recovery"}),"\n",(0,i.jsx)(e.li,{children:"Use center of mass calculations"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"issue-integration-conflicts-between-subsystems",children:"Issue: Integration conflicts between subsystems"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Implement proper state management"}),"\n",(0,i.jsx)(e.li,{children:"Use message passing for coordination"}),"\n",(0,i.jsx)(e.li,{children:"Implement priority-based arbitration"}),"\n",(0,i.jsx)(e.li,{children:"Create clear interfaces between subsystems"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"issue-computational-overload-with-all-systems-active",children:"Issue: Computational overload with all systems active"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Solution"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Optimize each subsystem individually"}),"\n",(0,i.jsx)(e.li,{children:"Use multi-threading where appropriate"}),"\n",(0,i.jsx)(e.li,{children:"Implement selective processing based on priority"}),"\n",(0,i.jsx)(e.li,{children:"Use efficient algorithms and data structures"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"The capstone project integrates all concepts learned throughout the book"}),"\n",(0,i.jsx)(e.li,{children:"Successful humanoid robots require careful coordination of multiple subsystems"}),"\n",(0,i.jsx)(e.li,{children:"Safety systems are paramount in humanoid robotics"}),"\n",(0,i.jsx)(e.li,{children:"Real-time performance is critical for stable operation"}),"\n",(0,i.jsx)(e.li,{children:"Simulation is essential for safe development and testing"}),"\n",(0,i.jsx)(e.li,{children:"Modularity and clear interfaces enable maintainable code"}),"\n",(0,i.jsx)(e.li,{children:"Comprehensive testing ensures system reliability"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(e.p,{children:"In the next chapters, you'll learn about hardware selection, deployment strategies, and troubleshooting techniques for real-world humanoid robot deployments."})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(m,{...n})}):m(n)}},7074:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>s});var t=r(6540);const i={},a=t.createContext(i);function o(n){const e=t.useContext(a);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:o(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);