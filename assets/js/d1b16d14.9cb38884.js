"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[4968],{2493:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>t,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"isaac-platform/nav2-setup-guide","title":"Nav2 Navigation Stack Setup Guide for ROS 2 Humble","description":"Overview","source":"@site/docs/isaac-platform/nav2-setup-guide.md","sourceDirName":"isaac-platform","slug":"/isaac-platform/nav2-setup-guide","permalink":"/Physical-Ai-Humanoid-Robotics-Book/docs/isaac-platform/nav2-setup-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/isaac-platform/nav2-setup-guide.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Isaac ROS Perception Packages Setup Guide","permalink":"/Physical-Ai-Humanoid-Robotics-Book/docs/isaac-platform/isaac-ros-perception-setup"},"next":{"title":"VSLAM Pipeline Configuration for Isaac ROS","permalink":"/Physical-Ai-Humanoid-Robotics-Book/docs/isaac-platform/vsland-pipeline-configuration"}}');var r=a(4848),o=a(7074);const s={},t="Nav2 Navigation Stack Setup Guide for ROS 2 Humble",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Method 1: Binary Installation (Recommended)",id:"method-1-binary-installation-recommended",level:3},{value:"1. Update Package Lists",id:"1-update-package-lists",level:4},{value:"2. Install Nav2 Packages",id:"2-install-nav2-packages",level:4},{value:"3. Install Additional Dependencies",id:"3-install-additional-dependencies",level:4},{value:"Method 2: Source Installation (For Development)",id:"method-2-source-installation-for-development",level:3},{value:"1. Create Navigation Workspace",id:"1-create-navigation-workspace",level:4},{value:"2. Clone Nav2 Repository",id:"2-clone-nav2-repository",level:4},{value:"3. Install Dependencies",id:"3-install-dependencies",level:4},{value:"4. Build the Workspace",id:"4-build-the-workspace",level:4},{value:"Basic Configuration",id:"basic-configuration",level:2},{value:"1. Create Navigation Configuration Package",id:"1-create-navigation-configuration-package",level:3},{value:"2. Create Configuration Files",id:"2-create-configuration-files",level:3},{value:"3. Create Launch File",id:"3-create-launch-file",level:3},{value:"Testing Nav2 Installation",id:"testing-nav2-installation",level:2},{value:"1. Verify Installation",id:"1-verify-installation",level:3},{value:"2. Run Basic Navigation Test",id:"2-run-basic-navigation-test",level:3},{value:"3. Send Navigation Goals",id:"3-send-navigation-goals",level:3},{value:"Nav2 Components Overview",id:"nav2-components-overview",level:2},{value:"1. Planner Server",id:"1-planner-server",level:3},{value:"2. Controller Server",id:"2-controller-server",level:3},{value:"3. Behavior Server",id:"3-behavior-server",level:3},{value:"4. BT Navigator",id:"4-bt-navigator",level:3},{value:"5. Costmap Servers",id:"5-costmap-servers",level:3},{value:"Integration with Isaac ROS",id:"integration-with-isaac-ros",level:2},{value:"1. Perception-to-Navigation Pipeline",id:"1-perception-to-navigation-pipeline",level:3},{value:"2. Coordinate Frame Considerations",id:"2-coordinate-frame-considerations",level:3},{value:"Performance Tuning",id:"performance-tuning",level:2},{value:"1. CPU and Memory Optimization",id:"1-cpu-and-memory-optimization",level:3},{value:"2. Real-time Performance",id:"2-real-time-performance",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Issue: Navigation nodes fail to start",id:"issue-navigation-nodes-fail-to-start",level:3},{value:"Issue: Robot doesn&#39;t move to goals",id:"issue-robot-doesnt-move-to-goals",level:3},{value:"Issue: Poor path planning",id:"issue-poor-path-planning",level:3},{value:"Issue: Localization fails",id:"issue-localization-fails",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Parameter Management",id:"1-parameter-management",level:3},{value:"2. Testing and Validation",id:"2-testing-and-validation",level:3},{value:"3. Safety Considerations",id:"3-safety-considerations",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Resources",id:"resources",level:2},{value:"Conclusion",id:"conclusion",level:2}];function _(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"nav2-navigation-stack-setup-guide-for-ros-2-humble",children:"Nav2 Navigation Stack Setup Guide for ROS 2 Humble"})}),"\n",(0,r.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(e.p,{children:"This guide provides instructions for installing and configuring the Navigation2 (Nav2) stack for ROS 2 Humble. Nav2 is the official navigation stack for ROS 2, providing path planning, execution, and obstacle avoidance capabilities for mobile robots."}),"\n",(0,r.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"ROS 2 Humble Hawksbill installed"}),"\n",(0,r.jsx)(e.li,{children:"Ubuntu 22.04 LTS"}),"\n",(0,r.jsx)(e.li,{children:"Basic understanding of ROS 2 concepts (topics, services, parameters)"}),"\n",(0,r.jsx)(e.li,{children:"A robot with differential drive or similar mobility base"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(e.h3,{id:"method-1-binary-installation-recommended",children:"Method 1: Binary Installation (Recommended)"}),"\n",(0,r.jsx)(e.h4,{id:"1-update-package-lists",children:"1. Update Package Lists"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"sudo apt update\n"})}),"\n",(0,r.jsx)(e.h4,{id:"2-install-nav2-packages",children:"2. Install Nav2 Packages"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Install the complete Nav2 stack\nsudo apt install ros-humble-navigation2 ros-humble-nav2-bringup\n\n# Install additional useful packages\nsudo apt install ros-humble-nav2-common\nsudo apt install ros-humble-nav2-controllers\nsudo apt install ros-humble-nav2-behaviors\nsudo apt install ros-humble-nav2-util\nsudo apt install ros-humble-nav2-amcl\nsudo apt install ros-humble-nav2-map-server\nsudo apt install ros-humble-nav2-planner\nsudo apt install ros-humble-nav2-simulator\nsudo apt install ros-humble-nav2-rviz-plugins\nsudo apt install ros-humble-nav2-lifecycle-manager\n"})}),"\n",(0,r.jsx)(e.h4,{id:"3-install-additional-dependencies",children:"3. Install Additional Dependencies"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Install SLAM Toolbox for mapping (if needed)\nsudo apt install ros-humble-slam-toolbox\n\n# Install robot localization packages\nsudo apt install ros-humble-robot-localization\n\n# Install navigation-related tools\nsudo apt install ros-humble-dwb-core ros-humble-dwb-msgs\nsudo apt install ros-humble-nav-2d-msgs ros-humble-nav-2d-utils\n"})}),"\n",(0,r.jsx)(e.h3,{id:"method-2-source-installation-for-development",children:"Method 2: Source Installation (For Development)"}),"\n",(0,r.jsx)(e.h4,{id:"1-create-navigation-workspace",children:"1. Create Navigation Workspace"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/nav2_ws/src\ncd ~/nav2_ws\nsource /opt/ros/humble/setup.bash\n"})}),"\n",(0,r.jsx)(e.h4,{id:"2-clone-nav2-repository",children:"2. Clone Nav2 Repository"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/nav2_ws/src\n\n# Clone the navigation2 repository\ngit clone -b humble https://github.com/ros-planning/navigation2.git\n\n# Clone navigation2_tutorials (optional, for examples)\ngit clone -b humble https://github.com/ros-planning/navigation2_tutorials.git\n"})}),"\n",(0,r.jsx)(e.h4,{id:"3-install-dependencies",children:"3. Install Dependencies"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/nav2_ws\n\n# Install dependencies using rosdep\nrosdep install --from-paths src --ignore-src -r -y\n"})}),"\n",(0,r.jsx)(e.h4,{id:"4-build-the-workspace",children:"4. Build the Workspace"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/nav2_ws\n\n# Build with colcon\ncolcon build --symlink-install\n\n# Source the workspace\nsource install/setup.bash\n"})}),"\n",(0,r.jsx)(e.h2,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,r.jsx)(e.h3,{id:"1-create-navigation-configuration-package",children:"1. Create Navigation Configuration Package"}),"\n",(0,r.jsx)(e.p,{children:"Create a new package for your navigation configurations:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/your_robot_ws/src\nros2 pkg create --dependencies rclcpp rclpy std_msgs geometry_msgs nav2_msgs -- your_robot_navigation\n"})}),"\n",(0,r.jsx)(e.h3,{id:"2-create-configuration-files",children:"2. Create Configuration Files"}),"\n",(0,r.jsxs)(e.p,{children:["Create the main navigation configuration file at ",(0,r.jsx)(e.code,{children:"your_robot_navigation/config/navigation.yaml"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'amcl:\n  ros__parameters:\n    use_sim_time: True\n    alpha1: 0.2\n    alpha2: 0.2\n    alpha3: 0.2\n    alpha4: 0.2\n    alpha5: 0.2\n    base_frame_id: "base_footprint"\n    beam_skip_distance: 0.5\n    beam_skip_error_threshold: 0.9\n    beam_skip_threshold: 0.3\n    do_beamskip: false\n    global_frame_id: "map"\n    lambda_short: 0.1\n    laser_likelihood_max_dist: 2.0\n    laser_max_range: 100.0\n    laser_min_range: -1.0\n    laser_model_type: "likelihood_field"\n    max_beams: 60\n    max_particles: 2000\n    min_particles: 500\n    odom_frame_id: "odom"\n    pf_err: 0.05\n    pf_z: 0.99\n    recovery_alpha_fast: 0.0\n    recovery_alpha_slow: 0.0\n    resample_interval: 1\n    robot_model_type: "nav2_amcl::DifferentialMotionModel"\n    save_pose_rate: 0.5\n    sigma_hit: 0.2\n    tf_broadcast: true\n    transform_tolerance: 1.0\n    update_min_a: 0.2\n    update_min_d: 0.25\n    z_hit: 0.5\n    z_max: 0.05\n    z_rand: 0.5\n    z_short: 0.05\n    scan_topic: scan\n\namcl_map_client:\n  ros__parameters:\n    use_sim_time: True\n\namcl_rclcpp_node:\n  ros__parameters:\n    use_sim_time: True\n\nbt_navigator:\n  ros__parameters:\n    use_sim_time: True\n    global_frame: map\n    robot_base_frame: base_link\n    odom_topic: /odom\n    bt_loop_duration: 10\n    default_server_timeout: 20\n    enable_groot_monitoring: True\n    groot_zmq_publisher_port: 1666\n    groot_zmq_server_port: 1667\n    navigate_through_poses: False\n    navigate_to_pose: True\n    behavior_tree_xml_filename: "navigate_w_replanning_and_recovery.xml"\n    plugin_lib_names:\n    - nav2_compute_path_to_pose_action_bt_node\n    - nav2_compute_path_through_poses_action_bt_node\n    - nav2_smooth_path_action_bt_node\n    - nav2_follow_path_action_bt_node\n    - nav2_spin_action_bt_node\n    - nav2_wait_action_bt_node\n    - nav2_assisted_teleop_action_bt_node\n    - nav2_back_up_action_bt_node\n    - nav2_drive_on_heading_bt_node\n    - nav2_clear_costmap_service_bt_node\n    - nav2_is_stuck_condition_bt_node\n    - nav2_goal_reached_condition_bt_node\n    - nav2_goal_updated_condition_bt_node\n    - nav2_globally_updated_goal_condition_bt_node\n    - nav2_is_path_valid_condition_bt_node\n    - nav2_initial_pose_received_condition_bt_node\n    - nav2_reinitialize_global_localization_service_bt_node\n    - nav2_rate_controller_bt_node\n    - nav2_distance_controller_bt_node\n    - nav2_speed_controller_bt_node\n    - nav2_truncate_path_action_bt_node\n    - nav2_truncate_path_local_action_bt_node\n    - nav2_goal_updater_node_bt_node\n    - nav2_recovery_node_bt_node\n    - nav2_pipeline_sequence_bt_node\n    - nav2_round_robin_node_bt_node\n    - nav2_transform_available_condition_bt_node\n    - nav2_time_expired_condition_bt_node\n    - nav2_path_expiring_timer_condition\n    - nav2_distance_traveled_condition_bt_node\n    - nav2_single_trigger_bt_node\n    - nav2_is_battery_low_condition_bt_node\n    - nav2_navigate_through_poses_action_bt_node\n    - nav2_navigate_to_pose_action_bt_node\n    - nav2_remove_passed_goals_action_bt_node\n    - nav2_planner_selector_bt_node\n    - nav2_controller_selector_bt_node\n    - nav2_goal_checker_selector_bt_node\n    - nav2_controller_cancel_bt_node\n    - nav2_path_longer_on_approach_bt_node\n    - nav2_wait_cancel_bt_node\n    - nav2_spin_cancel_bt_node\n    - nav2_back_up_cancel_bt_node\n    - nav2_assisted_teleop_cancel_bt_node\n    - nav2_drive_on_heading_cancel_bt_node\n\nbt_navigator_rclcpp_node:\n  ros__parameters:\n    use_sim_time: True\n\ncontroller_server:\n  ros__parameters:\n    use_sim_time: True\n    controller_frequency: 20.0\n    min_x_velocity_threshold: 0.001\n    min_y_velocity_threshold: 0.5\n    min_theta_velocity_threshold: 0.001\n    failure_tolerance: 0.3\n    progress_checker_plugin: "progress_checker"\n    goal_checker_plugins: ["general_goal_checker"] # "precise_goal_checker"\n    controller_plugins: ["FollowPath"]\n\n    # Progress checker parameters\n    progress_checker:\n      plugin: "nav2_controller::SimpleProgressChecker"\n      required_movement_radius: 0.5\n      movement_time_allowance: 10.0\n\n    # Goal checker parameters\n    general_goal_checker:\n      plugin: "nav2_controller::SimpleGoalChecker"\n      xy_goal_tolerance: 0.25\n      yaw_goal_tolerance: 0.25\n      stateful: True\n\n    # Controller parameters\n    FollowPath:\n      plugin: "dwb_core::DWBLocalPlanner"\n      debug_trajectory_details: True\n      min_vel_x: 0.0\n      min_vel_y: 0.0\n      max_vel_x: 0.5\n      max_vel_y: 0.0\n      max_vel_theta: 1.0\n      min_speed_xy: 0.0\n      max_speed_xy: 0.5\n      min_speed_theta: 0.0\n      acc_lim_x: 2.5\n      acc_lim_y: 0.0\n      acc_lim_theta: 3.2\n      decel_lim_x: -2.5\n      decel_lim_y: 0.0\n      decel_lim_theta: -3.2\n      vx_samples: 20\n      vy_samples: 5\n      vtheta_samples: 20\n      sim_time: 1.7\n      linear_granularity: 0.05\n      angular_granularity: 0.025\n      transform_tolerance: 0.2\n      xy_goal_tolerance: 0.25\n      yaw_goal_tolerance: 0.25\n      stateful: True\n      restore_defaults: False\n      publish_cost_grid_pc: False\n      use_dwb: True\n      max_vel_obstacle: 1.32\n\ncontroller_server_rclcpp_node:\n  ros__parameters:\n    use_sim_time: True\n\nlocal_costmap:\n  local_costmap:\n    ros__parameters:\n      update_frequency: 5.0\n      publish_frequency: 2.0\n      global_frame: odom\n      robot_base_frame: base_link\n      use_sim_time: True\n      rolling_window: true\n      width: 3\n      height: 3\n      resolution: 0.05\n      robot_radius: 0.22\n      plugins: ["voxel_layer", "inflation_layer"]\n      inflation_layer:\n        plugin: "nav2_costmap_2d::InflationLayer"\n        cost_scaling_factor: 3.0\n        inflation_radius: 0.55\n      voxel_layer:\n        plugin: "nav2_costmap_2d::VoxelLayer"\n        enabled: True\n        publish_voxel_map: True\n        origin_z: 0.0\n        z_resolution: 0.05\n        z_voxels: 16\n        max_obstacle_height: 2.0\n        mark_threshold: 0\n        observation_sources: scan\n        scan:\n          topic: /scan\n          max_obstacle_height: 2.0\n          clearing: True\n          marking: True\n          data_type: "LaserScan"\n          raytrace_max_range: 3.0\n          raytrace_min_range: 0.0\n          obstacle_max_range: 2.5\n          obstacle_min_range: 0.0\n      always_send_full_costmap: True\n  local_costmap_client:\n    ros__parameters:\n      use_sim_time: True\n  local_costmap_rclcpp_node:\n    ros__parameters:\n      use_sim_time: True\n\nglobal_costmap:\n  global_costmap:\n    ros__parameters:\n      update_frequency: 1.0\n      publish_frequency: 1.0\n      global_frame: map\n      robot_base_frame: base_link\n      use_sim_time: True\n      robot_radius: 0.22\n      resolution: 0.05\n      plugins: ["static_layer", "obstacle_layer", "inflation_layer"]\n      obstacle_layer:\n        plugin: "nav2_costmap_2d::ObstacleLayer"\n        enabled: True\n        observation_sources: scan\n        scan:\n          topic: /scan\n          max_obstacle_height: 2.0\n          clearing: True\n          marking: True\n          data_type: "LaserScan"\n          raytrace_max_range: 3.0\n          raytrace_min_range: 0.0\n          obstacle_max_range: 2.5\n          obstacle_min_range: 0.0\n      static_layer:\n        plugin: "nav2_costmap_2d::StaticLayer"\n        map_subscribe_transient_local: True\n      inflation_layer:\n        plugin: "nav2_costmap_2d::InflationLayer"\n        cost_scaling_factor: 3.0\n        inflation_radius: 0.55\n      always_send_full_costmap: True\n  global_costmap_client:\n    ros__parameters:\n      use_sim_time: True\n  global_costmap_rclcpp_node:\n    ros__parameters:\n      use_sim_time: True\n\nmap_server:\n  ros__parameters:\n    use_sim_time: True\n    yaml_filename: "turtlebot3_world.yaml"\n\nmap_saver:\n  ros__parameters:\n    use_sim_time: True\n    save_map_timeout: 5.0\n    free_thresh_default: 0.25\n    occupied_thresh_default: 0.65\n    map_subscribe_transient_local: True\n\nplanner_server:\n  ros__parameters:\n    expected_planner_frequency: 20.0\n    use_sim_time: True\n    planner_plugins: ["GridBased"]\n    GridBased:\n      plugin: "nav2_navfn_planner::NavfnPlanner"\n      tolerance: 0.5\n      use_astar: false\n      allow_unknown: true\n\nplanner_server_rclcpp_node:\n  ros__parameters:\n    use_sim_time: True\n\nsmoother_server:\n  ros__parameters:\n    use_sim_time: True\n    smoother_plugins: ["simple_smoother"]\n    simple_smoother:\n      plugin: "nav2_smoother::SimpleSmoother"\n      tolerance: 1.0e-10\n      max_its: 1000\n      w_smooth: 0.9\n      w_data: 0.1\n\nbehavior_server:\n  ros__parameters:\n    costmap_topic: local_costmap/costmap_raw\n    footprint_topic: local_costmap/published_footprint\n    cycle_frequency: 10.0\n    behavior_plugins: ["spin", "backup", "wait", "assisted_teleop", "drive_on_heading"]\n    spin:\n      plugin: "nav2_behaviors::Spin"\n      server_name: spin\n      is_server_node: True\n    backup:\n      plugin: "nav2_behaviors::BackUp"\n      server_name: backup\n      is_server_node: True\n    wait:\n      plugin: "nav2_behaviors::Wait"\n      server_name: wait\n      is_server_node: True\n    assisted_teleop:\n      plugin: "nav2_behaviors::AssistedTeleop"\n      server_name: assisted_teleop\n      is_server_node: True\n    drive_on_heading:\n      plugin: "nav2_behaviors::DriveOnHeading"\n      server_name: drive_on_heading\n      is_server_node: True\n    global_frame: odom\n    robot_base_frame: base_link\n    transform_tolerance: 0.1\n    use_sim_time: True\n    simulate_ahead_time: 2.0\n    max_rotational_vel: 1.0\n    min_rotational_vel: 0.4\n    rotational_acc_lim: 3.2\n\nwaypoint_follower:\n  ros__parameters:\n    use_sim_time: True\n    loop_rate: 20\n    stop_on_failure: false\n    waypoint_task_executor_plugin: "wait_at_waypoint"\n    wait_at_waypoint:\n      plugin: "nav2_waypoint_follower::WaitAtWaypoint"\n      enabled: True\n      waypoint_pause_duration: 200\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-create-launch-file",children:"3. Create Launch File"}),"\n",(0,r.jsxs)(e.p,{children:["Create a launch file at ",(0,r.jsx)(e.code,{children:"your_robot_navigation/launch/navigation_launch.py"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import os\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument, SetEnvironmentVariable\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom nav2_common.launch import RewrittenYaml\n\n\ndef generate_launch_description():\n    # Get the launch directory\n    bringup_dir = get_package_share_directory('nav2_bringup')\n\n    # Create the launch configuration variables\n    namespace = LaunchConfiguration('namespace')\n    use_sim_time = LaunchConfiguration('use_sim_time')\n    autostart = LaunchConfiguration('autostart')\n    params_file = LaunchConfiguration('params_file')\n    default_nav2_container = 'nav2_container'\n    nav2_container = LaunchConfiguration('nav2_container')\n\n    # Create our own temporary YAML files that include substitutions\n    param_substitutions = {\n        'use_sim_time': use_sim_time,\n        'autostart': autostart\n    }\n\n    configured_params = RewrittenYaml(\n        source_file=params_file,\n        root_key=namespace,\n        param_rewrites=param_substitutions,\n        convert_types=True\n    )\n\n    return LaunchDescription([\n        # Declare launch arguments\n        DeclareLaunchArgument(\n            'namespace', default_value='',\n            description='Top-level namespace'),\n        DeclareLaunchArgument(\n            'use_sim_time', default_value='false',\n            description='Use simulation (Gazebo) clock if true'),\n        DeclareLaunchArgument(\n            'autostart', default_value='true',\n            description='Automatically startup the nav2 stack'),\n        DeclareLaunchArgument(\n            'params_file',\n            default_value=os.path.join(bringup_dir, 'params', 'nav2_params.yaml'),\n            description='Full path to the ROS2 parameters file to use'),\n        DeclareLaunchArgument(\n            'nav2_container',\n            default_value=default_nav2_container,\n            description='The name of the nav2 container'),\n\n        # Launch the main Nav2 node\n        Node(\n            package='nav2_bt_navigator',\n            executable='bt_navigator',\n            name='bt_navigator',\n            output='screen',\n            parameters=[configured_params],\n            remappings=remappings),\n\n        Node(\n            package='nav2_controller',\n            executable='controller_server',\n            name='controller_server',\n            output='screen',\n            parameters=[configured_params],\n            remappings=remappings),\n\n        Node(\n            package='nav2_planner',\n            executable='planner_server',\n            name='planner_server',\n            output='screen',\n            parameters=[configured_params],\n            remappings=remappings),\n\n        Node(\n            package='nav2_behaviors',\n            executable='behavior_server',\n            name='behavior_server',\n            output='screen',\n            parameters=[configured_params],\n            remappings=remappings),\n\n        Node(\n            package='nav2_waypoint_follower',\n            executable='waypoint_follower',\n            name='waypoint_follower',\n            output='screen',\n            parameters=[configured_params],\n            remappings=remappings),\n\n        Node(\n            package='nav2_lifecycle_manager',\n            executable='lifecycle_manager',\n            name='lifecycle_manager_navigation',\n            output='screen',\n            parameters=[{'use_sim_time': use_sim_time},\n                        {'autostart': autostart},\n                        {'node_names': lifecycle_nodes}]),\n    ])\n"})}),"\n",(0,r.jsx)(e.h2,{id:"testing-nav2-installation",children:"Testing Nav2 Installation"}),"\n",(0,r.jsx)(e.h3,{id:"1-verify-installation",children:"1. Verify Installation"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Check if Nav2 packages are available\nros2 pkg list | grep nav2\n\n# Check available Nav2 executables\nros2 run --list | grep nav2\n"})}),"\n",(0,r.jsx)(e.h3,{id:"2-run-basic-navigation-test",children:"2. Run Basic Navigation Test"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Launch the navigation system with a simple test\nros2 launch nav2_bringup tb3_simulation_launch.py\n\n# Or with your custom configuration\nros2 launch your_robot_navigation navigation_launch.py params_file:=/path/to/your/navigation.yaml\n"})}),"\n",(0,r.jsx)(e.h3,{id:"3-send-navigation-goals",children:"3. Send Navigation Goals"}),"\n",(0,r.jsx)(e.p,{children:"In another terminal:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Send a simple navigation goal\nros2 run nav2_msgs action_client /navigate_to_pose\n\n# Or use RViz2 to send goals through the GUI\nrviz2 -d /opt/ros/humble/share/nav2_bringup/rviz/nav2_default_view.rviz\n"})}),"\n",(0,r.jsx)(e.h2,{id:"nav2-components-overview",children:"Nav2 Components Overview"}),"\n",(0,r.jsx)(e.h3,{id:"1-planner-server",children:"1. Planner Server"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Purpose"}),": Global path planning"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Default"}),": NavFn (A* variant)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Configuration"}),": ",(0,r.jsx)(e.code,{children:"planner_server"})," in YAML"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"2-controller-server",children:"2. Controller Server"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Purpose"}),": Local path following and obstacle avoidance"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Default"}),": DWB (Dynamic Window Approach)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Configuration"}),": ",(0,r.jsx)(e.code,{children:"controller_server"})," in YAML"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"3-behavior-server",children:"3. Behavior Server"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Purpose"}),": Recovery behaviors (backup, spin, wait)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Configuration"}),": ",(0,r.jsx)(e.code,{children:"behavior_server"})," in YAML"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"4-bt-navigator",children:"4. BT Navigator"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Purpose"}),": Behavior tree-based navigation orchestration"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Configuration"}),": ",(0,r.jsx)(e.code,{children:"bt_navigator"})," in YAML"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"5-costmap-servers",children:"5. Costmap Servers"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Purpose"}),": Local and global obstacle mapping"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Configuration"}),": ",(0,r.jsx)(e.code,{children:"local_costmap"})," and ",(0,r.jsx)(e.code,{children:"global_costmap"})," in YAML"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"integration-with-isaac-ros",children:"Integration with Isaac ROS"}),"\n",(0,r.jsx)(e.h3,{id:"1-perception-to-navigation-pipeline",children:"1. Perception-to-Navigation Pipeline"}),"\n",(0,r.jsx)(e.p,{children:"To integrate Isaac ROS perception with Nav2 navigation:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'# Add Isaac ROS perception nodes to your launch file\n# Example: Using Isaac ROS Visual SLAM with Nav2\nslam_toolbox:\n  ros__parameters:\n    # SLAM configuration\n    use_sim_time: True\n    mode: "localization"  # or "mapping"\n    # ... other SLAM parameters\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-coordinate-frame-considerations",children:"2. Coordinate Frame Considerations"}),"\n",(0,r.jsx)(e.p,{children:"Ensure consistent frame IDs across perception and navigation:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"map"})," frame from SLAM"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"odom"})," frame from odometry"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"base_link"})," frame from robot URDF"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"performance-tuning",children:"Performance Tuning"}),"\n",(0,r.jsx)(e.h3,{id:"1-cpu-and-memory-optimization",children:"1. CPU and Memory Optimization"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:"# In your navigation.yaml\ncontroller_server:\n  ros__parameters:\n    controller_frequency: 10.0  # Lower if CPU constrained\n    # Adjust other parameters based on hardware capabilities\n"})}),"\n",(0,r.jsx)(e.h3,{id:"2-real-time-performance",children:"2. Real-time Performance"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Monitor navigation performance\nros2 topic hz /cmd_vel\nros2 topic hz /navigate_to_pose/_action/status\n"})}),"\n",(0,r.jsx)(e.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,r.jsx)(e.h3,{id:"issue-navigation-nodes-fail-to-start",children:"Issue: Navigation nodes fail to start"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Symptoms"}),": Lifecycle nodes fail to activate\n",(0,r.jsx)(e.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["Check parameter file syntax:","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"python3 -c \"import yaml; print(yaml.safe_load(open('navigation.yaml')))\"\n"})}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"Verify all required parameters are present"}),"\n",(0,r.jsx)(e.li,{children:"Check for typos in plugin names"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"issue-robot-doesnt-move-to-goals",children:"Issue: Robot doesn't move to goals"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Symptoms"}),": Navigation goals accepted but robot doesn't move\n",(0,r.jsx)(e.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["Check TF tree: ",(0,r.jsx)(e.code,{children:"ros2 run tf2_tools view_frames"})]}),"\n",(0,r.jsxs)(e.li,{children:["Verify odometry topics: ",(0,r.jsx)(e.code,{children:"ros2 topic echo /odom"})]}),"\n",(0,r.jsxs)(e.li,{children:["Check costmaps: ",(0,r.jsx)(e.code,{children:"ros2 run rviz2 rviz2"})]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"issue-poor-path-planning",children:"Issue: Poor path planning"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Symptoms"}),": Robot takes inefficient paths or gets stuck\n",(0,r.jsx)(e.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Adjust costmap inflation radius"}),"\n",(0,r.jsx)(e.li,{children:"Tune planner parameters (tolerance, resolution)"}),"\n",(0,r.jsx)(e.li,{children:"Verify sensor data quality"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"issue-localization-fails",children:"Issue: Localization fails"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Symptoms"}),": Robot doesn't know its position\n",(0,r.jsx)(e.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Check AMCL configuration"}),"\n",(0,r.jsx)(e.li,{children:"Verify initial pose is set correctly"}),"\n",(0,r.jsx)(e.li,{children:"Ensure sensor data is available and accurate"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(e.h3,{id:"1-parameter-management",children:"1. Parameter Management"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Use separate parameter files for different scenarios"}),"\n",(0,r.jsx)(e.li,{children:"Document parameter purposes and valid ranges"}),"\n",(0,r.jsx)(e.li,{children:"Use launch arguments for runtime configuration"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"2-testing-and-validation",children:"2. Testing and Validation"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Test navigation in simulation before real hardware"}),"\n",(0,r.jsx)(e.li,{children:"Use simple environments first"}),"\n",(0,r.jsx)(e.li,{children:"Gradually increase complexity"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"3-safety-considerations",children:"3. Safety Considerations"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Set appropriate velocity limits"}),"\n",(0,r.jsx)(e.li,{children:"Configure proper obstacle detection"}),"\n",(0,r.jsx)(e.li,{children:"Implement emergency stop mechanisms"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(e.p,{children:"After setting up Nav2:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Test with simulation"}),": Use Gazebo to validate navigation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Tune parameters"}),": Adjust for your specific robot and environment"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Integrate perception"}),": Connect with Isaac ROS perception"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Add custom behaviors"}),": Extend with domain-specific capabilities"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://navigation.ros.org/",children:"Nav2 Documentation"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://navigation.ros.org/tutorials/index.html",children:"Nav2 Tutorials"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/ros-planning/navigation2",children:"ROS 2 Navigation GitHub"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://navigation.ros.org/configuration/index.html",children:"Nav2 Configuration Guide"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(e.p,{children:"This guide provides the foundation for installing and configuring the Nav2 navigation stack. Proper setup is crucial for reliable robot navigation. Take time to understand each component and adjust parameters based on your specific robot and application requirements. The combination of Nav2 with Isaac ROS perception will provide a powerful navigation system for your robotics applications."})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(_,{...n})}):_(n)}},7074:(n,e,a)=>{a.d(e,{R:()=>s,x:()=>t});var i=a(6540);const r={},o=i.createContext(r);function s(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);