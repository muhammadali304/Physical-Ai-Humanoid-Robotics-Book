"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[8346],{919:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"setup/ros2-workspace-structure","title":"ROS 2 Workspace Structure","description":"This document describes the standard structure for a ROS 2 workspace used in the Physical AI & Humanoid Robotics educational book.","source":"@site/docs/setup/ros2-workspace-structure.md","sourceDirName":"setup","slug":"/setup/ros2-workspace-structure","permalink":"/Physical-Ai-Humanoid-Robotics-Book/docs/setup/ros2-workspace-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/setup/ros2-workspace-structure.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Environment Sourcing Guide with bashrc Modifications","permalink":"/Physical-Ai-Humanoid-Robotics-Book/docs/setup/ros2-environment-setup"},"next":{"title":"Running and Testing ROS 2 Publisher/Subscriber Examples","permalink":"/Physical-Ai-Humanoid-Robotics-Book/docs/setup/running-examples"}}');var c=s(4848),t=s(7074);const i={},r="ROS 2 Workspace Structure",o={},l=[{value:"Workspace Directory Structure",id:"workspace-directory-structure",level:2},{value:"Creating a New Package",id:"creating-a-new-package",level:2},{value:"Building the Workspace",id:"building-the-workspace",level:2},{value:"Sourcing the Workspace",id:"sourcing-the-workspace",level:2},{value:"Package Manifest (package.xml)",id:"package-manifest-packagexml",level:2},{value:"CMakeLists.txt Template",id:"cmakeliststxt-template",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"ros-2-workspace-structure",children:"ROS 2 Workspace Structure"})}),"\n",(0,c.jsx)(n.p,{children:"This document describes the standard structure for a ROS 2 workspace used in the Physical AI & Humanoid Robotics educational book."}),"\n",(0,c.jsx)(n.h2,{id:"workspace-directory-structure",children:"Workspace Directory Structure"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"~/ros2_ws/                     # Root workspace directory\n\u251c\u2500\u2500 src/                       # Source code directory\n\u2502   \u251c\u2500\u2500 CMakeLists.txt         # Symlink to /opt/ros/<distro>/share/colcon-core/package_manifests/CMakeLists.txt\n\u2502   \u251c\u2500\u2500 my_robot_package/      # Example robot package\n\u2502   \u2502   \u251c\u2500\u2500 CMakeLists.txt     # Build instructions for the package\n\u2502   \u2502   \u251c\u2500\u2500 package.xml        # Package manifest\n\u2502   \u2502   \u251c\u2500\u2500 src/               # C++ source files\n\u2502   \u2502   \u251c\u2500\u2500 include/           # C++ header files\n\u2502   \u2502   \u251c\u2500\u2500 scripts/           # Executable scripts\n\u2502   \u2502   \u251c\u2500\u2500 launch/            # Launch files\n\u2502   \u2502   \u251c\u2500\u2500 config/            # Configuration files\n\u2502   \u2502   \u2514\u2500\u2500 test/              # Test files\n\u2502   \u2514\u2500\u2500 other_packages/        # Additional packages\n\u251c\u2500\u2500 build/                     # Build artifacts (generated by colcon build)\n\u251c\u2500\u2500 install/                   # Installation directory (generated by colcon build)\n\u2502   \u251c\u2500\u2500 lib/                   # Libraries\n\u2502   \u251c\u2500\u2500 share/                 # Shared resources\n\u2502   \u2514\u2500\u2500 setup.bash             # Environment setup script\n\u2514\u2500\u2500 log/                       # Build logs\n"})}),"\n",(0,c.jsx)(n.h2,{id:"creating-a-new-package",children:"Creating a New Package"}),"\n",(0,c.jsx)(n.p,{children:"To create a new ROS 2 package in your workspace:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src\nros2 pkg create --build-type ament_cmake --dependencies rclcpp rclpy std_msgs geometry_msgs <package_name>\n"})}),"\n",(0,c.jsx)(n.h2,{id:"building-the-workspace",children:"Building the Workspace"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select <package_name>\n# or build all packages\ncolcon build\n"})}),"\n",(0,c.jsx)(n.h2,{id:"sourcing-the-workspace",children:"Sourcing the Workspace"}),"\n",(0,c.jsx)(n.p,{children:"After building, source the workspace:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"source ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,c.jsxs)(n.p,{children:["To automatically source the workspace, add to your ",(0,c.jsx)(n.code,{children:"~/.bashrc"}),":"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'echo "source ~/ros2_ws/install/setup.bash" >> ~/.bashrc\n'})}),"\n",(0,c.jsx)(n.h2,{id:"package-manifest-packagexml",children:"Package Manifest (package.xml)"}),"\n",(0,c.jsxs)(n.p,{children:["Each package requires a ",(0,c.jsx)(n.code,{children:"package.xml"})," file that describes the package and its dependencies:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>my_robot_package</name>\n  <version>0.0.0</version>\n  <description>Example robot package for Physical AI & Humanoid Robotics</description>\n  <maintainer email="user@example.com">Your Name</maintainer>\n  <license>Apache License 2.0</license>\n\n  <buildtool_depend>ament_cmake</buildtool_depend>\n\n  <depend>rclcpp</depend>\n  <depend>rclpy</depend>\n  <depend>std_msgs</depend>\n  <depend>geometry_msgs</depend>\n\n  <test_depend>ament_lint_auto</test_depend>\n  <test_depend>ament_lint_common</test_depend>\n\n  <export>\n    <build_type>ament_cmake</build_type>\n  </export>\n</package>\n'})}),"\n",(0,c.jsx)(n.h2,{id:"cmakeliststxt-template",children:"CMakeLists.txt Template"}),"\n",(0,c.jsx)(n.p,{children:"Basic CMakeLists.txt for a ROS 2 package:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\nproject(my_robot_package)\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\n  add_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\n# find dependencies\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(rclpy REQUIRED)\nfind_package(std_msgs REQUIRED)\nfind_package(geometry_msgs REQUIRED)\n\n# uncomment the following section in order to fill in\n# further dependencies manually.\n# find_package(<dependency> REQUIRED)\n\nif(BUILD_TESTING)\n  find_package(ament_lint_auto REQUIRED)\n  # the following line skips the linter which checks for copyrights\n  # comment the line when a copyright and license is added to all source files\n  set(ament_cmake_copyright_FOUND TRUE)\n  # the following line skips cpplint (only works in a git repo)\n  # comment the line when this package is in a git repo and when\n  # a copyright and license is added to all source files\n  set(ament_cmake_cpplint_FOUND TRUE)\n  ament_lint_auto_find_test_dependencies()\nendif()\n\nament_package()\n'})}),"\n",(0,c.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Package Naming"}),": Use snake_case for package names"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Dependencies"}),": List all dependencies in package.xml"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Source Control"}),": Add ",(0,c.jsx)(n.code,{children:"build/"}),", ",(0,c.jsx)(n.code,{children:"install/"}),", and ",(0,c.jsx)(n.code,{children:"log/"})," to ",(0,c.jsx)(n.code,{children:".gitignore"})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Documentation"}),": Include README.md in each package"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Testing"}),": Include unit tests in the package"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},7074:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var a=s(6540);const c={},t=a.createContext(c);function i(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);